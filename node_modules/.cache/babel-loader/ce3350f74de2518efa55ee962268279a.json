{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\user\\\\like.jsx\";\nimport React, { Component } from \"react\";\nimport { Button, Badge } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport \"../css/btn_style.css\";\nimport HeartImg from \"../img/heart.png\";\nimport HeartImg_disbaled from \"../img/heart_disabled.png\";\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass Like extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      liked: 0,\n      heart: \"none\",\n      heart_disabled: \"\"\n    };\n\n    this.likePost = async user_id => {\n      $(\".heart\").on(\"click\", () => {\n        $(this).toggleClass(\"heart-blast\");\n      });\n      const post_id = this.props.post;\n      const send_param = {\n        post_id,\n        user_id,\n        headers\n      };\n\n      if (!this.state.liked) {\n        const result = await axios.post(\"http://localhost:9090/post/like\", send_param);\n\n        if (result.data.message) {\n          alert(\"좋아요!\");\n          this.setState({\n            liked: 1,\n            heart: \"\",\n            heart_disabled: \"none\"\n          });\n          this.props.show();\n        } else {\n          alert(\"시스템 에러(좋아요)\");\n        }\n      } else {\n        const result = await axios.post(\"http://localhost:9090/post/unlike\", send_param);\n\n        if (result.data.message) {\n          alert(\"좋아요 취소!\");\n          this.setState({\n            liked: 0,\n            heart: \"none\",\n            heart_disabled: \"\"\n          });\n          this.props.show();\n        } else {\n          alert(\"시스템 에러(좋아요 취소)\");\n        }\n      }\n    };\n  }\n\n  render() {\n    const heartStyle = {\n      display: this.state.heart\n    };\n    const heartStyle_disabled = {\n      display: this.state.heart_disabled\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      onClick: () => {\n        this.likePost(this.props.user);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: heartStyle,\n      src: HeartImg,\n      width: \"15\",\n      height: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      style: heartStyle_disabled,\n      src: HeartImg_disbaled,\n      width: \"15\",\n      height: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      disabled: this.state.liked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Badge, {\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.props.like)));\n  }\n\n}\n\nexport default Like;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/user/like.jsx"],"names":["React","Component","Button","Badge","axios","$","HeartImg","HeartImg_disbaled","defaults","withCredentials","headers","Like","state","liked","heart","heart_disabled","likePost","user_id","on","toggleClass","post_id","props","post","send_param","result","data","message","alert","setState","show","render","heartStyle","display","heartStyle_disabled","user","like"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,iBAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAO,sBAAP;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,iBAAP,MAA8B,2BAA9B;AAEAH,KAAK,CAACI,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,MAAMC,OAAO,GAAG;AAAED,EAAAA,eAAe,EAAE;AAAnB,CAAhB;;AAEA,MAAME,IAAN,SAAmBV,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAC3BW,KAD2B,GACnB;AACNC,MAAAA,KAAK,EAAE,CADD;AAENC,MAAAA,KAAK,EAAE,MAFD;AAGNC,MAAAA,cAAc,EAAE;AAHV,KADmB;;AAAA,SAM3BC,QAN2B,GAMhB,MAAMC,OAAN,IAAiB;AAC1BZ,MAAAA,CAAC,CAAC,QAAD,CAAD,CAAYa,EAAZ,CAAe,OAAf,EAAwB,MAAM;AAC5Bb,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQc,WAAR,CAAoB,aAApB;AACD,OAFD;AAGA,YAAMC,OAAO,GAAG,KAAKC,KAAL,CAAWC,IAA3B;AACA,YAAMC,UAAU,GAAG;AAAEH,QAAAA,OAAF;AAAWH,QAAAA,OAAX;AAAoBP,QAAAA;AAApB,OAAnB;;AACA,UAAI,CAAC,KAAKE,KAAL,CAAWC,KAAhB,EAAuB;AACrB,cAAMW,MAAM,GAAG,MAAMpB,KAAK,CAACkB,IAAN,CAAW,iCAAX,EAA8CC,UAA9C,CAArB;;AACA,YAAIC,MAAM,CAACC,IAAP,CAAYC,OAAhB,EAAyB;AACvBC,UAAAA,KAAK,CAAC,MAAD,CAAL;AACA,eAAKC,QAAL,CAAc;AAAEf,YAAAA,KAAK,EAAE,CAAT;AAAYC,YAAAA,KAAK,EAAE,EAAnB;AAAuBC,YAAAA,cAAc,EAAE;AAAvC,WAAd;AACA,eAAKM,KAAL,CAAWQ,IAAX;AACD,SAJD,MAIO;AACLF,UAAAA,KAAK,CAAC,aAAD,CAAL;AACD;AACF,OATD,MASO;AACL,cAAMH,MAAM,GAAG,MAAMpB,KAAK,CAACkB,IAAN,CAAW,mCAAX,EAAgDC,UAAhD,CAArB;;AACA,YAAIC,MAAM,CAACC,IAAP,CAAYC,OAAhB,EAAyB;AACvBC,UAAAA,KAAK,CAAC,SAAD,CAAL;AACA,eAAKC,QAAL,CAAc;AAAEf,YAAAA,KAAK,EAAE,CAAT;AAAYC,YAAAA,KAAK,EAAE,MAAnB;AAA2BC,YAAAA,cAAc,EAAE;AAA3C,WAAd;AACA,eAAKM,KAAL,CAAWQ,IAAX;AACD,SAJD,MAIO;AACLF,UAAAA,KAAK,CAAC,gBAAD,CAAL;AACD;AACF;AACF,KA/B0B;AAAA;;AAgC3BG,EAAAA,MAAM,GAAG;AACP,UAAMC,UAAU,GAAG;AACjBC,MAAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWE;AADH,KAAnB;AAGA,UAAMmB,mBAAmB,GAAG;AAC1BD,MAAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWG;AADM,KAA5B;AAGA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,OADV;AAEE,MAAA,IAAI,EAAC,IAFP;AAGE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKC,QAAL,CAAc,KAAKK,KAAL,CAAWa,IAAzB;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE;AAAK,MAAA,KAAK,EAAEH,UAAZ;AAAwB,MAAA,GAAG,EAAEzB,QAA7B;AAAuC,MAAA,KAAK,EAAC,IAA7C;AAAkD,MAAA,MAAM,EAAC,IAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAQE;AAAK,MAAA,KAAK,EAAE2B,mBAAZ;AAAiC,MAAA,GAAG,EAAE1B,iBAAtC;AAAyD,MAAA,KAAK,EAAC,IAA/D;AAAoE,MAAA,MAAM,EAAC,IAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF,EAWE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,OAAhB;AAAwB,MAAA,IAAI,EAAC,IAA7B;AAAkC,MAAA,QAAQ,EAAE,KAAKK,KAAL,CAAWC,KAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB,KAAKQ,KAAL,CAAWc,IAAnC,CADF,CAXF,CADF;AAiBD;;AAxD0B;;AA2D7B,eAAexB,IAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Badge } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport $ from \"jquery\";\r\nimport \"../css/btn_style.css\";\r\nimport HeartImg from \"../img/heart.png\";\r\nimport HeartImg_disbaled from \"../img/heart_disabled.png\";\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = { withCredentials: true };\r\n\r\nclass Like extends Component {\r\n  state = {\r\n    liked: 0,\r\n    heart: \"none\",\r\n    heart_disabled: \"\"\r\n  };\r\n  likePost = async user_id => {\r\n    $(\".heart\").on(\"click\", () => {\r\n      $(this).toggleClass(\"heart-blast\");\r\n    });\r\n    const post_id = this.props.post;\r\n    const send_param = { post_id, user_id, headers };\r\n    if (!this.state.liked) {\r\n      const result = await axios.post(\"http://localhost:9090/post/like\", send_param);\r\n      if (result.data.message) {\r\n        alert(\"좋아요!\");\r\n        this.setState({ liked: 1, heart: \"\", heart_disabled: \"none\" });\r\n        this.props.show();\r\n      } else {\r\n        alert(\"시스템 에러(좋아요)\");\r\n      }\r\n    } else {\r\n      const result = await axios.post(\"http://localhost:9090/post/unlike\", send_param);\r\n      if (result.data.message) {\r\n        alert(\"좋아요 취소!\");\r\n        this.setState({ liked: 0, heart: \"none\", heart_disabled: \"\" });\r\n        this.props.show();\r\n      } else {\r\n        alert(\"시스템 에러(좋아요 취소)\");\r\n      }\r\n    }\r\n  };\r\n  render() {\r\n    const heartStyle = {\r\n      display: this.state.heart\r\n    };\r\n    const heartStyle_disabled = {\r\n      display: this.state.heart_disabled\r\n    };\r\n    return (\r\n      <div>\r\n        <Button\r\n          variant=\"light\"\r\n          size=\"sm\"\r\n          onClick={() => {\r\n            this.likePost(this.props.user);\r\n          }}\r\n        >\r\n          <img style={heartStyle} src={HeartImg} width=\"15\" height=\"15\" />\r\n          <img style={heartStyle_disabled} src={HeartImg_disbaled} width=\"15\" height=\"15\" />\r\n        </Button>\r\n        <Button variant=\"light\" size=\"sm\" disabled={this.state.liked}>\r\n          <Badge variant=\"light\">{this.props.like}</Badge>\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Like;\r\n"]},"metadata":{},"sourceType":"module"}