{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import $ from'jquery';import axios from'axios';import TableRow from'@material-ui/core/TableRow';import TableCell from'@material-ui/core/TableCell';import Moment from'react-moment';import{Button,InputGroup,FormControl}from'react-bootstrap';var MyPostItems=/*#__PURE__*/function(_Component){_inherits(MyPostItems,_Component);function MyPostItems(){var _getPrototypeOf2;var _this;_classCallCheck(this,MyPostItems);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MyPostItems)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={myposts:_this.props.entries,update_style:\"none\",default_style:\"\"};_this.update_post_final=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var post_id,content,send_param,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:post_id=_this.props.id;content=_this.updated_content.value;send_param={post_id:post_id,content:content};_context.prev=3;_context.next=6;return axios.post('http://localhost:9090/post/update',send_param);case 6:result=_context.sent;if(result.data.result){alert('수정 완료');_this.setState({myposts:result.data.result,update_style:\"none\",default_style:\"\"});_this.props.showPosts();}else{alert('수정 오류');}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.log(_context.t0);alert('시스템 오류');case 14:case\"end\":return _context.stop();}}},_callee,null,[[3,10]]);}));_this.update_post=function(){_this.setState({update_style:\"\",default_style:\"none\"});};_this.update_cancel=function(){_this.setState({update_style:\"none\",default_style:\"\"});};return _this;}_createClass(MyPostItems,[{key:\"render\",value:function render(){var _this2=this;var update_style={display:this.state.update_style};var default_style={display:this.state.default_style};return React.createElement(TableRow,null,React.createElement(TableCell,null,this.props.id),React.createElement(TableCell,null,this.props.nickname),React.createElement(TableCell,null,React.createElement(Moment,{format:\"YYYY-MM-DD HH:mm\"},this.props.createDate)),React.createElement(TableCell,null,React.createElement(Moment,{format:\"YYYY-MM-DD HH:mm\"},this.props.updateDate)),React.createElement(TableCell,{ref:function ref(_ref2){return _this2.default=_ref2;},style:default_style},this.props.content),React.createElement(InputGroup,{className:\"mb-3\",ref:function ref(_ref4){return _this2.update=_ref4;},style:update_style},React.createElement(FormControl,{as:\"textarea\",\"aria-label\":\"With textarea\",ref:function ref(_ref3){return _this2.updated_content=_ref3;}},this.props.content)),React.createElement(TableCell,{style:default_style},React.createElement(Button,{variant:\"outline-warning\",onClick:this.update_post},\"\\uC218\\uC815\")),React.createElement(TableCell,{style:update_style},React.createElement(Button,{variant:\"light\",onClick:this.update_cancel},\"\\uCDE8\\uC18C\"),React.createElement(Button,{variant:\"success\",onClick:this.update_post_final},\"\\uC218\\uC815\\uC644\\uB8CC\")),React.createElement(TableCell,null,React.createElement(Button,{variant:\"outline-danger\",onClick:this.props.superDelete.bind(null,this.props.id)},\"\\uC0AD\\uC81C\")));}}]);return MyPostItems;}(Component);export default MyPostItems;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/post/mypostItems.jsx"],"names":["React","Component","$","axios","TableRow","TableCell","Moment","Button","InputGroup","FormControl","MyPostItems","state","myposts","props","entries","update_style","default_style","update_post_final","post_id","id","content","updated_content","value","send_param","post","result","data","alert","setState","showPosts","console","log","update_post","update_cancel","display","nickname","createDate","updateDate","ref","default","update","superDelete","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport $ from 'jquery';\r\nimport axios from 'axios';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Moment from 'react-moment';\r\nimport {Button, InputGroup, FormControl} from 'react-bootstrap';\r\n\r\nclass MyPostItems extends Component {\r\n    state={\r\n        myposts: this.props.entries,\r\n        update_style: \"none\",\r\n        default_style: \"\"\r\n    }\r\n    update_post_final= async ()=>{\r\n        const post_id=this.props.id;\r\n        const content=this.updated_content.value;\r\n        const send_param = {post_id, content};\r\n        try{\r\n            const result=await axios.post('http://localhost:9090/post/update', send_param);\r\n            if(result.data.result){\r\n                alert('수정 완료');\r\n                this.setState({\r\n                    myposts: result.data.result,\r\n                    update_style: \"none\",\r\n                    default_style: \"\"\r\n                });\r\n                this.props.showPosts();\r\n            }else{\r\n                alert('수정 오류');\r\n            }\r\n        }catch(err){\r\n            console.log(err);\r\n            alert('시스템 오류');\r\n        }        \r\n    }\r\n    update_post=()=>{\r\n        this.setState({\r\n            update_style: \"\",\r\n            default_style: \"none\"\r\n        });\r\n    }\r\n    update_cancel=()=>{\r\n        this.setState({\r\n            update_style: \"none\",\r\n            default_style: \"\"\r\n        });\r\n    }\r\n    render(){\r\n        const update_style={\r\n            display: this.state.update_style\r\n        }\r\n        const default_style={\r\n            display: this.state.default_style\r\n        }\r\n        return(\r\n            <TableRow>\r\n                <TableCell>{this.props.id}</TableCell>\r\n                <TableCell>{this.props.nickname}</TableCell>\r\n                <TableCell><Moment format=\"YYYY-MM-DD HH:mm\">{this.props.createDate}</Moment></TableCell>\r\n                <TableCell><Moment format=\"YYYY-MM-DD HH:mm\">{this.props.updateDate}</Moment></TableCell>\r\n                <TableCell ref={ref=>this.default=ref} style={default_style}>{this.props.content}</TableCell>\r\n                <InputGroup className=\"mb-3\" ref={ref=>this.update=ref} style={update_style}>\r\n                    <FormControl as=\"textarea\" aria-label=\"With textarea\" ref={ref=>this.updated_content=ref}>{this.props.content}</FormControl>\r\n                </InputGroup>\r\n                <TableCell style={default_style}><Button variant=\"outline-warning\" onClick={this.update_post}>수정</Button></TableCell>\r\n                <TableCell style={update_style}>\r\n                    <Button variant=\"light\" onClick={this.update_cancel}>취소</Button>\r\n                    <Button variant=\"success\" onClick={this.update_post_final}>수정완료</Button>\r\n                </TableCell>\r\n                <TableCell><Button variant=\"outline-danger\" onClick={this.props.superDelete.bind(null, this.props.id)}>삭제</Button></TableCell>\r\n            </TableRow>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MyPostItems;"]},"metadata":{},"sourceType":"module"}