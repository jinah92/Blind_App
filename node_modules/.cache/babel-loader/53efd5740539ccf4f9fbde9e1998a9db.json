{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\like.jsx\";\nimport React, { Component } from 'react';\nimport { Button, Badge } from 'react-bootstrap';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport './css/btn_style.css';\nimport HeartImg from './img/heart.png';\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass Like extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      liked: 0\n    };\n\n    this.likePost = async () => {\n      $(\".heart\").on('click', () => {\n        $(this).toggleClass(\"heart-blast\");\n      });\n      const post_id = this.props.post;\n      const send_param = {\n        post_id,\n        headers\n      };\n      const result = await axios.post('http://localhost:9090/post/like', send_param);\n\n      if (result.data.message) {\n        alert('좋아요 성공'); // this.props.ShowPost();\n\n        if (this.state.liked) {\n          this.setState({\n            liked: 0\n          });\n          this.message = '좋아요';\n        } else {\n          this.setState({\n            liked: 1\n          });\n          this.message = '좋아요 취소';\n        }\n      } else {\n        alert('좋아요 오류');\n      }\n    };\n  }\n\n  render() {\n    let message = '좋아요';\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      onClick: this.likePost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: HeartImg,\n      width: \"15\",\n      height: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      disabled: this.state.liked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \" \", message, \" \", React.createElement(Badge, {\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.props.post)));\n  }\n\n}\n\nexport default Like;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/like.jsx"],"names":["React","Component","Button","Badge","axios","$","HeartImg","defaults","withCredentials","headers","Like","state","liked","likePost","on","toggleClass","post_id","props","post","send_param","result","data","message","alert","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,MAAR,EAAgBC,KAAhB,QAA4B,iBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAO,qBAAP;AACA,OAAOC,QAAP,MAAqB,iBAArB;AAEAF,KAAK,CAACG,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,MAAMC,OAAO,GAAG;AAACD,EAAAA,eAAe,EAAE;AAAlB,CAAhB;;AAEA,MAAME,IAAN,SAAmBT,SAAnB,CAA6B;AAAA;AAAA;AAAA,SACzBU,KADyB,GACnB;AACFC,MAAAA,KAAK,EAAE;AADL,KADmB;;AAAA,SAIzBC,QAJyB,GAIhB,YAAS;AACdR,MAAAA,CAAC,CAAC,QAAD,CAAD,CAAYS,EAAZ,CAAe,OAAf,EAAwB,MAAI;AACxBT,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQU,WAAR,CAAoB,aAApB;AACH,OAFD;AAGA,YAAMC,OAAO,GAAC,KAAKC,KAAL,CAAWC,IAAzB;AACA,YAAMC,UAAU,GAAC;AAACH,QAAAA,OAAD;AAAUP,QAAAA;AAAV,OAAjB;AACA,YAAMW,MAAM,GAAG,MAAMhB,KAAK,CAACc,IAAN,CAAW,iCAAX,EAA8CC,UAA9C,CAArB;;AACA,UAAGC,MAAM,CAACC,IAAP,CAAYC,OAAf,EAAuB;AACnBC,QAAAA,KAAK,CAAC,QAAD,CAAL,CADmB,CAEnB;;AACA,YAAG,KAAKZ,KAAL,CAAWC,KAAd,EAAoB;AAChB,eAAKY,QAAL,CAAc;AAACZ,YAAAA,KAAK,EAAE;AAAR,WAAd;AACA,eAAKU,OAAL,GAAa,KAAb;AACH,SAHD,MAGK;AACD,eAAKE,QAAL,CAAc;AAACZ,YAAAA,KAAK,EAAE;AAAR,WAAd;AACA,eAAKU,OAAL,GAAa,QAAb;AACH;AACJ,OAVD,MAUK;AACDC,QAAAA,KAAK,CAAC,QAAD,CAAL;AACH;AACJ,KAxBwB;AAAA;;AAyBzBE,EAAAA,MAAM,GAAE;AACJ,QAAIH,OAAO,GAAC,KAAZ;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,OAAhB;AAAwB,MAAA,IAAI,EAAC,IAA7B;AAAkC,MAAA,OAAO,EAAE,KAAKT,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0D;AAAK,MAAA,GAAG,EAAEP,QAAV;AAAqB,MAAA,KAAK,EAAC,IAA3B;AAAgC,MAAA,MAAM,EAAC,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA1D,CADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,OAAhB;AAAwB,MAAA,IAAI,EAAC,IAA7B;AAAkC,MAAA,QAAQ,EAAE,KAAKK,KAAL,CAAWC,KAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAgEU,OAAhE,OAAyE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB,KAAKL,KAAL,CAAWC,IAAnC,CAAzE,CAFJ,CADJ;AAMH;;AAjCwB;;AAoC7B,eAAeR,IAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Badge} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport './css/btn_style.css';\r\nimport HeartImg from './img/heart.png';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass Like extends Component {\r\n    state={\r\n        liked: 0\r\n    }\r\n    likePost=async()=>{\r\n        $(\".heart\").on('click', ()=>{\r\n            $(this).toggleClass(\"heart-blast\");\r\n        });\r\n        const post_id=this.props.post;\r\n        const send_param={post_id, headers};\r\n        const result = await axios.post('http://localhost:9090/post/like', send_param);\r\n        if(result.data.message){\r\n            alert('좋아요 성공');\r\n            // this.props.ShowPost();\r\n            if(this.state.liked){\r\n                this.setState({liked: 0});\r\n                this.message='좋아요';\r\n            }else{\r\n                this.setState({liked: 1});\r\n                this.message='좋아요 취소';\r\n            }\r\n        }else{\r\n            alert('좋아요 오류');\r\n        }\r\n    }\r\n    render(){\r\n        let message='좋아요';\r\n        return(\r\n            <div >\r\n                <Button variant=\"light\" size=\"sm\" onClick={this.likePost}><img src={HeartImg}  width='15' height='15' /></Button>\r\n                <Button variant=\"light\" size=\"sm\" disabled={this.state.liked}> {message} <Badge variant=\"light\">{this.props.post}</Badge></Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Like;"]},"metadata":{},"sourceType":"module"}