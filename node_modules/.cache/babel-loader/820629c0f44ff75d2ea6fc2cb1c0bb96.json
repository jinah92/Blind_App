{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Badge}from'react-bootstrap';import axios from'axios';import $ from'jquery';import'../css/btn_style.css';import HeartImg from'../img/heart.png';import HeartImg_disbaled from'../img/heart_disabled.png';axios.defaults.withCredentials=true;var headers={withCredentials:true};var Like=/*#__PURE__*/function(_Component){_inherits(Like,_Component);function Like(){var _getPrototypeOf2;var _this;_classCallCheck(this,Like);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Like)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={liked:0,heart:\"none\",heart_disabled:\"\"};_this.likePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user_id){var post_id,send_param,result,_result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:$(\".heart\").on('click',function(){$(_assertThisInitialized(_this)).toggleClass(\"heart-blast\");});post_id=_this.props.post;send_param={post_id:post_id,user_id:user_id,headers:headers};if(_this.state.liked){_context.next=10;break;}_context.next=6;return axios.post('http://localhost:9090/post/like',send_param);case 6:result=_context.sent;if(result.data.message){alert('좋아요!');_this.setState({liked:1,heart:\"\",heart_disabled:\"none\"});_this.props.show();}else{alert('시스템 에러(좋아요)');}_context.next=14;break;case 10:_context.next=12;return axios.post('http://localhost:9090/post/unlike',send_param);case 12:_result=_context.sent;if(_result.data.message){alert('좋아요 취소!');_this.setState({liked:0,heart:\"none\",heart_disabled:\"\"});_this.props.show();}else{alert('시스템 에러(좋아요 취소)');}case 14:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(Like,[{key:\"render\",value:function render(){var _this2=this;var heartStyle={display:this.state.heart};var heartStyle_disabled={display:this.state.heart_disabled};return React.createElement(\"div\",null,React.createElement(Button,{variant:\"light\",size:\"sm\",onClick:function onClick(){_this2.likePost(_this2.props.user);}},React.createElement(\"img\",{style:heartStyle,src:HeartImg,width:\"15\",height:\"15\"}),React.createElement(\"img\",{style:heartStyle_disabled,src:HeartImg_disbaled,width:\"15\",height:\"15\"})),React.createElement(Button,{variant:\"light\",size:\"sm\",disabled:this.state.liked},React.createElement(Badge,{variant:\"light\"},this.props.like)));}}]);return Like;}(Component);export default Like;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/user/like.jsx"],"names":["React","Component","Button","Badge","axios","$","HeartImg","HeartImg_disbaled","defaults","withCredentials","headers","Like","state","liked","heart","heart_disabled","likePost","user_id","on","toggleClass","post_id","props","post","send_param","result","data","message","alert","setState","show","heartStyle","display","heartStyle_disabled","user","like"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Badge} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport '../css/btn_style.css';\r\nimport HeartImg from '../img/heart.png';\r\nimport HeartImg_disbaled from '../img/heart_disabled.png';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass Like extends Component {\r\n    state={\r\n        liked: 0,\r\n        heart: \"none\",\r\n        heart_disabled: \"\"\r\n    }\r\n    likePost=async(user_id)=>{\r\n        $(\".heart\").on('click', ()=>{\r\n            $(this).toggleClass(\"heart-blast\");\r\n        });\r\n        const post_id=this.props.post;\r\n        const send_param={post_id, user_id, headers};\r\n        if(!this.state.liked){\r\n            const result = await axios.post('http://localhost:9090/post/like', send_param);\r\n            if(result.data.message){\r\n                alert('좋아요!');\r\n                this.setState({liked: 1, heart: \"\", heart_disabled: \"none\"});\r\n                this.props.show();\r\n            }else{\r\n                alert('시스템 에러(좋아요)');\r\n            }\r\n        }else{\r\n            const result = await axios.post('http://localhost:9090/post/unlike', send_param);\r\n            if(result.data.message){\r\n                alert('좋아요 취소!');\r\n                this.setState({liked: 0, heart: \"none\",  heart_disabled: \"\"});\r\n                this.props.show();\r\n            }else{\r\n                alert('시스템 에러(좋아요 취소)');\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        const heartStyle={\r\n            display: this.state.heart\r\n        }\r\n        const heartStyle_disabled={\r\n            display: this.state.heart_disabled\r\n        }\r\n        return(\r\n            <div >\r\n                <Button variant=\"light\" size=\"sm\" onClick={()=>{this.likePost(this.props.user)}}><img style={heartStyle} src={HeartImg}  width='15' height='15' /><img style={heartStyle_disabled} src={HeartImg_disbaled}  width='15' height='15' /></Button>\r\n                <Button variant=\"light\" size=\"sm\" disabled={this.state.liked}><Badge variant=\"light\">{this.props.like}</Badge></Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Like;"]},"metadata":{},"sourceType":"module"}