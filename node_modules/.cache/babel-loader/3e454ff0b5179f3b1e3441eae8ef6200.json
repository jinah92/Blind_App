{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\showpost.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport $ from 'jquery';\nimport PostItems from './postItems';\nimport { Button, Form } from 'react-bootstrap';\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass ShowPost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ShowPosts = async () => {\n      try {\n        const result = await axios.post('http://localhost:9090/post/allpost', headers);\n\n        if (result.data.posts) {\n          this.setState({\n            posts: result.data.posts\n          });\n        }\n\n        console.log(result);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.update_post = () => {\n      alert();\n    };\n\n    this.delete_post = post_id => {\n      const user_id = $.cookie(\"login_id\");\n      const send_param = {\n        post_id,\n        user_id\n      };\n      console.log(send_param);\n      $.post('http://localhost:9090/post/delete', send_param, returnData => {\n        if (returnData.result) {\n          alert(\"일정 삭제 성공\");\n          const filteredItems = this.state.posts.filter(item => {\n            return item.key !== post_id;\n          });\n          this.setState = filteredItems;\n        } else {\n          alert(\"일정 삭제 오류\");\n        }\n      });\n    };\n\n    this.upload_post = async () => {\n      const send_param = {\n        headers,\n        content: this.postContent.value,\n        memberId: $.cookie(\"login_id\")\n      };\n\n      try {\n        await axios.post('http://localhost:9090/post/upload', send_param).then(returnData => {\n          if (returnData.data.message) {\n            alert(\"게시물 등록 성공\");\n          } else {\n            alert(\"게시물 등록 실패\");\n          }\n\n          this.postContent.value = \"\";\n          this.postContent.focus();\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    this.ShowPosts();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"comment_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\uC5EC\\uB7EC\\uBD84\\uC758 \\uC18C\\uC2DD\\uC744 \\uB4E4\\uB824\\uC8FC\\uC138\\uC694\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlTextarea1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: \"3\",\n      placeholder: \"\\uC785\\uB825\\uD558\\uC138\\uC694\",\n      ref: ref => this.postContent = ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.upload_post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\uAE00 \\uB4F1\\uB85D\"))), React.createElement(\"div\", {\n      id: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(PostItems, {\n      entries: this.state.posts,\n      superDelete: this.delete_post,\n      superUpdate: this.update_post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ShowPost;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/showpost.jsx"],"names":["React","Component","axios","$","PostItems","Button","Form","defaults","withCredentials","headers","ShowPost","constructor","props","ShowPosts","result","post","data","posts","setState","console","log","err","update_post","alert","delete_post","post_id","user_id","cookie","send_param","returnData","filteredItems","state","filter","item","key","upload_post","content","postContent","value","memberId","then","message","focus","componentDidMount","render","ref"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from \"axios\";\r\nimport $ from 'jquery';\r\nimport PostItems from './postItems';\r\nimport {Button, Form} from 'react-bootstrap';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass ShowPost extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            posts: []\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        this.ShowPosts();\r\n    }\r\n    ShowPosts=async ()=>{\r\n        try{\r\n            const result = await axios.post('http://localhost:9090/post/allpost', headers);\r\n            if(result.data.posts){\r\n                this.setState({\r\n                    posts: result.data.posts\r\n                });\r\n            }\r\n            console.log(result);\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n    update_post=()=>{\r\n        alert();\r\n    }\r\n    delete_post=(post_id)=>{\r\n        const user_id=$.cookie(\"login_id\");\r\n        const send_param={post_id, user_id};\r\n        console.log(send_param);\r\n        $.post('http://localhost:9090/post/delete', send_param, (returnData)=>{\r\n            if(returnData.result){\r\n                alert(\"일정 삭제 성공\");\r\n                const filteredItems = this.state.posts.filter((item)=>{\r\n                    return item.key !== post_id\r\n                });\r\n                this.setState = filteredItems;\r\n            }else{\r\n                alert(\"일정 삭제 오류\");\r\n            }\r\n        });\r\n    }\r\n    upload_post = async()=>{\r\n        const send_param ={\r\n            headers,\r\n            content: this.postContent.value,\r\n            memberId: $.cookie(\"login_id\")\r\n        }\r\n        try{\r\n            await axios.post('http://localhost:9090/post/upload', send_param)\r\n            .then((returnData)=>{\r\n                if(returnData.data.message){\r\n                    alert(\"게시물 등록 성공\");\r\n                }else{\r\n                    alert(\"게시물 등록 실패\");\r\n                }\r\n                this.postContent.value=\"\";\r\n                this.postContent.focus();\r\n            });\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n        \r\n    }     \r\n    render(){\r\n        return(\r\n            <div>\r\n                <div>\r\n                    <div className=\"comment_form\">\r\n                        <h2>여러분의 소식을 들려주세요</h2>\r\n                        <Form>\r\n                            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                                <Form.Control as=\"textarea\" rows=\"3\" placeholder=\"입력하세요\" ref={ref=>this.postContent=ref}/>\r\n                            </Form.Group>\r\n                        <Button onClick={this.upload_post}>글 등록</Button>\r\n                        </Form>\r\n                    </div>\r\n                    <div id=\"post\"></div>\r\n                </div>\r\n                <PostItems entries={this.state.posts} superDelete={this.delete_post} superUpdate={this.update_post}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShowPost;"]},"metadata":{},"sourceType":"module"}