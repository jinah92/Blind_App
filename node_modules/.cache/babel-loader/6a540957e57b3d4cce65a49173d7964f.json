{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\like.jsx\";\nimport React, { Component } from 'react';\nimport { Button, Badge } from 'react-bootstrap';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport './css/btn_style.css';\nimport HeartImg from './img/heart.png';\nimport HeartImg_disbaled from './img/heart_disabled.png';\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass Like extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      liked: 0,\n      heart: \"none\",\n      heart_disabled: \"\"\n    };\n\n    this.likePost = async user_id => {\n      $(\".heart\").on('click', () => {\n        $(this).toggleClass(\"heart-blast\");\n      });\n      const post_id = this.props.post;\n      const send_param = {\n        post_id,\n        user_id,\n        headers\n      };\n\n      if (!this.state.liked) {\n        const result = await axios.post('http://localhost:9090/post/like', send_param);\n\n        if (result.data.message) {\n          alert('좋아요!');\n          this.setState({\n            liked: 1,\n            heart: \"\",\n            heart_disabled: \"none\"\n          });\n          this.props.show();\n        } else {\n          alert('시스템 에러(좋아요)');\n        }\n      } else {\n        const result = await axios.post('http://localhost:9090/post/unlike', send_param);\n\n        if (result.data.message) {\n          alert('좋아요 취소!');\n          this.setState({\n            liked: 0,\n            heart: \"none\",\n            heart_disabled: \"\"\n          });\n          this.props.show();\n        } else {\n          alert('시스템 에러(좋아요 취소)');\n        }\n      }\n    };\n  }\n\n  render() {\n    const heartStyle = {\n      display: this.state.heart\n    };\n    const heartStyle_disabled = {\n      display: this.state.heart_disabled\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      onClick: () => {\n        this.likePost(this.props.user);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: heartStyle,\n      src: HeartImg,\n      width: \"15\",\n      height: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      style: heartStyle_disabled,\n      src: HeartImg_disbaled,\n      width: \"15\",\n      height: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      disabled: this.state.liked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Badge, {\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, this.props.like)));\n  }\n\n}\n\nexport default Like;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/like.jsx"],"names":["React","Component","Button","Badge","axios","$","HeartImg","HeartImg_disbaled","defaults","withCredentials","headers","Like","state","liked","heart","heart_disabled","likePost","user_id","on","toggleClass","post_id","props","post","send_param","result","data","message","alert","setState","show","render","heartStyle","display","heartStyle_disabled","user","like"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Badge} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport './css/btn_style.css';\r\nimport HeartImg from './img/heart.png';\r\nimport HeartImg_disbaled from './img/heart_disabled.png';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass Like extends Component {\r\n    state={\r\n        liked: 0,\r\n        heart: \"none\",\r\n        heart_disabled: \"\"\r\n    }\r\n    likePost=async(user_id)=>{\r\n        $(\".heart\").on('click', ()=>{\r\n            $(this).toggleClass(\"heart-blast\");\r\n        });\r\n        const post_id=this.props.post;\r\n        const send_param={post_id, user_id, headers};\r\n        if(!this.state.liked){\r\n            const result = await axios.post('http://localhost:9090/post/like', send_param);\r\n            if(result.data.message){\r\n                alert('좋아요!');\r\n                this.setState({liked: 1, heart: \"\", heart_disabled: \"none\"});\r\n                this.props.show();\r\n            }else{\r\n                alert('시스템 에러(좋아요)');\r\n            }\r\n        }else{\r\n            const result = await axios.post('http://localhost:9090/post/unlike', send_param);\r\n            if(result.data.message){\r\n                alert('좋아요 취소!');\r\n                this.setState({liked: 0, heart: \"none\",  heart_disabled: \"\"});\r\n                this.props.show();\r\n            }else{\r\n                alert('시스템 에러(좋아요 취소)');\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        const heartStyle={\r\n            display: this.state.heart\r\n        }\r\n        const heartStyle_disabled={\r\n            display: this.state.heart_disabled\r\n        }\r\n        return(\r\n            <div >\r\n                <Button variant=\"light\" size=\"sm\" onClick={()=>{this.likePost(this.props.user)}}><img style={heartStyle} src={HeartImg}  width='15' height='15' /><img style={heartStyle_disabled} src={HeartImg_disbaled}  width='15' height='15' /></Button>\r\n                <Button variant=\"light\" size=\"sm\" disabled={this.state.liked}><Badge variant=\"light\">{this.props.like}</Badge></Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Like;"]},"metadata":{},"sourceType":"module"}