{"ast":null,"code":"import _classCallCheck from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{NavLink,Route,HashRouter}from'react-dom';import{Form,Button,ButtonToolbar}from\"react-bootstrap\";import $ from'jquery';import'jquery.cookie';import axios from'axios';axios.defaults.withCredentials=true;var headers={withCredentials:true};var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={login_nick:_this.props.nick,loginStyle:\"inline-block\",logoutStyle:\"none\",registerStyle:\"none\",value:\"\"};_this.logout=function(){axios.post('http://localhost:9090/member/logout',{headers:headers}).then(function(returnData){if(returnData.data.message){$.removeCookie(\"login_nick\");$.removeCookie(\"login_id\");_this.setState({loginStyle:\"inline-block\",logoutStyle:\"none\"});}_this.emailE.value=\"\";_this.pwdE.value=\"\";});};_this.login=function(){var send_param={headers:headers,email:_this.emailE.value,pwd:_this.pwdE.value};axios.post('http://localhost:9090/member/login',send_param).then(function(returnData){console.log(returnData.data);if(returnData.data.result.nickname){var nickname=returnData.data.result.nickname;alert(nickname+\"님, 환영합니다!\");$.cookie(\"login_nick\",returnData.data.result.nickname);$.cookie(\"login_id\",returnData.data.result.id);_this.setState({login_nick:returnData.data.result.nickname,loginStyle:\"none\",logoutStyle:\"inline-block\"});}else{alert(\"로그인 실패\");}});};_this.user_insert=function(){var send_param={nickname:_this.new_nickE.value,email:_this.new_emailE.value,pwd:_this.new_pwdE.value,company:_this.new_companyE.value};$.post('http://localhost:9090/member/insert',send_param).then(function(returnData){var nickname=returnData.member.nickname;if(returnData.member){alert(nickname+\"님, 가입 성공\");_this.setState({loginStyle:\"inline-block\",registerStyle:\"none\"});}else{alert(\"insert member denied\");}});};_this.register=function(){_this.setState({loginStyle:\"none\",logoutStyle:\"none\",registerStyle:\"inline-block\"});_this.new_emailE.value=\"\";_this.new_nickE.value=\"\";_this.new_companyE.value=\"\";_this.new_pwdE.value=\"\";};_this.loginHome=function(){_this.setState({loginStyle:\"inline-block\",registerStyle:\"none\"});};_this.userInfo=function(){alert($.cookie(\"login_nick\"));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;var loginStyle={display:this.state.loginStyle,width:\"30%\",position:\"fixed\",top:100,right:0,bottom:0,left:0,margin:\"auto\",textAlign:\"center\"};var logoutStyle={display:this.state.logoutStyle,width:\"30%\",position:\"fixed\",top:100,right:0,bottom:0,left:0,margin:\"auto\",textAlign:\"center\"};var registerStyle={display:this.state.registerStyle,width:\"30%\",position:\"fixed\",top:100,right:0,bottom:0,left:0,margin:\"auto\",textAlign:\"center\"};var login_nick;if($.cookie(\"login_nick\")){login_nick=$.cookie(\"login_nick\");loginStyle.display=\"none\";logoutStyle.display=\"inline-block\";}return React.createElement(\"div\",null,React.createElement(\"div\",{style:loginStyle},React.createElement(\"h2\",null,\"\\uB85C\\uADF8\\uC778\"),React.createElement(Form.Group,{controlId:\"formBasicEmail\"},React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",ref:function ref(_ref){return _this2.emailE=_ref;},required:true})),React.createElement(Form.Group,{controlId:\"formBasicPassword\"},React.createElement(Form.Control,{type:\"password\",placeholder:\"Enter Password\",ref:function ref(_ref2){return _this2.pwdE=_ref2;},required:true})),React.createElement(Button,{variant:\"primary\",type:\"submit\",onClick:this.login},\"\\uB85C\\uADF8\\uC778\"),React.createElement(Button,{variant:\"success\",type:\"submit\",onClick:this.register},\"\\uD68C\\uC6D0\\uAC00\\uC785\")),React.createElement(\"div\",{style:logoutStyle},login_nick,\" \\uB2D8, \\uC811\\uC18D\",React.createElement(ButtonToolbar,null,React.createElement(Button,{variant:\"warning\",type:\"submit\",onClick:this.logout},\"\\uB85C\\uADF8\\uC544\\uC6C3\"),React.createElement(Button,{onClick:this.userInfo},\"\\uD68C\\uC6D0\\uC815\\uBCF4\"))),React.createElement(\"div\",{style:registerStyle},React.createElement(\"h2\",null,\"\\uD68C\\uC6D0\\uAC00\\uC785\"),React.createElement(Form.Group,{controlId:\"formBasicEmail\"},React.createElement(Form.Control,{type:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C\",ref:function ref(_ref3){return _this2.new_emailE=_ref3;},required:true}),React.createElement(\"br\",null),React.createElement(Form.Group,{controlId:\"formBasicPassword\"},React.createElement(Form.Control,{type:\"password\",placeholder:\"Enter Password\",ref:function ref(_ref4){return _this2.new_pwdE=_ref4;},required:true}),React.createElement(\"br\",null)),React.createElement(Form.Control,{type:\"text\",placeholder:\"\\uB2C9\\uB124\\uC784\",ref:function ref(_ref5){return _this2.new_nickE=_ref5;},required:true}),React.createElement(\"br\",null),React.createElement(Form.Group,{controlId:\"exampleForm.ControlSelect1\"},React.createElement(Form.Control,{as:\"select\",value:this.state.value,onChange:this.handleChange},React.createElement(\"option\",null,\"\\uD68C\\uC0AC\\uC758 \\uC0B0\\uC5C5\\uBD84\\uC57C\"),React.createElement(\"option\",{value:\"agriculture\"},\"\\uB18D\\uC5C5, \\uC784\\uC5C5 \\uBC0F \\uC5B4\\uC5C5\"),React.createElement(\"option\",{value:\"mining\"},\"\\uAD11\\uC5C5\"),React.createElement(\"option\",{value:\"manufacturing\"},\"\\uC81C\\uC870\\uC5C5\"),React.createElement(\"option\",{value:\"electronic\"},\"\\uC804\\uAE30 \\uACF5\\uAE09\\uC5C5\"),React.createElement(\"option\",{value:\"water\"},\"\\uC218\\uB3C4, \\uD558\\uC218 \\uBC0F \\uD3D0\\uAE30\\uBB3C \\uCC98\\uB9AC\"))),React.createElement(Form.Control,{type:\"text\",placeholder:\"\\uD68C\\uC0AC\\uBA85\",ref:function ref(_ref6){return _this2.new_companyE=_ref6;},required:true}),React.createElement(\"br\",null)),React.createElement(ButtonToolbar,null,React.createElement(Button,{variant:\"primary\",type:\"submit\",onClick:this.user_insert},\"\\uC81C\\uCD9C\"),React.createElement(Button,{variant:\"warning\",type:\"submit\",onClick:this.loginHome},\"\\uB3CC\\uC544\\uAC00\\uAE30\"))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/user/login.jsx"],"names":["React","Component","NavLink","Route","HashRouter","Form","Button","ButtonToolbar","$","axios","defaults","withCredentials","headers","Login","state","login_nick","props","nick","loginStyle","logoutStyle","registerStyle","value","logout","post","then","returnData","data","message","removeCookie","setState","emailE","pwdE","login","send_param","email","pwd","console","log","result","nickname","alert","cookie","id","user_insert","new_nickE","new_emailE","new_pwdE","company","new_companyE","member","register","loginHome","userInfo","display","width","position","top","right","bottom","left","margin","textAlign","ref","handleChange"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {NavLink, Route, HashRouter} from 'react-dom';\r\nimport {Form, Button, ButtonToolbar} from \"react-bootstrap\";\r\nimport $ from 'jquery';\r\nimport {} from 'jquery.cookie';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass Login extends Component {\r\n    state={\r\n        login_nick: this.props.nick,\r\n        loginStyle: \"inline-block\",\r\n        logoutStyle: \"none\",\r\n        registerStyle: \"none\",\r\n        value: \"\"\r\n    }\r\n    logout=()=>{\r\n        axios.post('http://localhost:9090/member/logout', {headers})\r\n        .then((returnData)=>{\r\n            if(returnData.data.message){\r\n                $.removeCookie(\"login_nick\");\r\n                $.removeCookie(\"login_id\");\r\n                this.setState({\r\n                    loginStyle: \"inline-block\",\r\n                    logoutStyle: \"none\"\r\n                });\r\n            }\r\n            this.emailE.value=\"\";\r\n            this.pwdE.value=\"\";\r\n        });\r\n    }\r\n    login=()=>{\r\n        const send_param={\r\n            headers,\r\n            email: this.emailE.value,\r\n            pwd: this.pwdE.value\r\n        }\r\n        axios.post('http://localhost:9090/member/login', send_param)\r\n        .then((returnData)=>{\r\n            console.log(returnData.data);\r\n            if(returnData.data.result.nickname){\r\n                const nickname = returnData.data.result.nickname;\r\n                alert(nickname + \"님, 환영합니다!\");\r\n                $.cookie(\"login_nick\", returnData.data.result.nickname);\r\n                $.cookie(\"login_id\", returnData.data.result.id);\r\n                this.setState({\r\n                    login_nick: returnData.data.result.nickname,\r\n                    loginStyle: \"none\",\r\n                    logoutStyle: \"inline-block\"\r\n                });\r\n            }else{\r\n                alert(\"로그인 실패\");\r\n            }\r\n            \r\n        });\r\n    }\r\n    user_insert=()=>{\r\n        const send_param = {\r\n            nickname: this.new_nickE.value,\r\n            email: this.new_emailE.value,\r\n            pwd: this.new_pwdE.value,\r\n            company: this.new_companyE.value\r\n        }\r\n        $.post('http://localhost:9090/member/insert', send_param)\r\n        .then((returnData)=>{\r\n            var nickname = returnData.member.nickname;\r\n            if(returnData.member){\r\n                alert(nickname +\"님, 가입 성공\");\r\n                this.setState({\r\n                    loginStyle: \"inline-block\",\r\n                    registerStyle: \"none\",\r\n                });\r\n            }else{\r\n                alert(\"insert member denied\");\r\n            }\r\n        });\r\n        \r\n\r\n    }\r\n    register=()=>{\r\n        this.setState({\r\n            loginStyle: \"none\",\r\n            logoutStyle: \"none\",\r\n            registerStyle: \"inline-block\",\r\n        });\r\n        this.new_emailE.value=\"\";\r\n        this.new_nickE.value=\"\";\r\n        this.new_companyE.value=\"\";\r\n        this.new_pwdE.value=\"\";\r\n    }\r\n    loginHome=()=>{\r\n        this.setState({\r\n            loginStyle: \"inline-block\",\r\n            registerStyle: \"none\",\r\n        });\r\n    }\r\n    userInfo=()=>{\r\n        alert($.cookie(\"login_nick\"));\r\n    }\r\n    render(){\r\n        const loginStyle = {\r\n            display: this.state.loginStyle,\r\n            width: \"30%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        const logoutStyle = {\r\n            display: this.state.logoutStyle,\r\n            width: \"30%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        const registerStyle = {\r\n            display: this.state.registerStyle,\r\n            width: \"30%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        let login_nick;\r\n        if($.cookie(\"login_nick\")){\r\n            login_nick=$.cookie(\"login_nick\");\r\n            loginStyle.display=\"none\";\r\n            logoutStyle.display=\"inline-block\";\r\n        }\r\n        return(\r\n            <div>\r\n                    <div style={loginStyle}>\r\n                        <h2>로그인</h2>\r\n                        <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" ref={ref=>this.emailE=ref} required/>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Control type=\"password\" placeholder=\"Enter Password\" ref={ref=>this.pwdE=ref} required/>\r\n                        </Form.Group>\r\n                    \r\n                        <Button variant=\"primary\" type=\"submit\" onClick={this.login}>로그인</Button> \r\n                        <Button variant=\"success\" type=\"submit\" onClick={this.register}>회원가입</Button>\r\n                    </div>\r\n\r\n                <div style={logoutStyle}>\r\n                    {login_nick} 님, 접속\r\n                    <ButtonToolbar>\r\n                        <Button variant=\"warning\" type=\"submit\" onClick={this.logout}>로그아웃</Button>\r\n                        <Button onClick={this.userInfo}>회원정보</Button>\r\n                    </ButtonToolbar>\r\n                </div>\r\n\r\n                <div style={registerStyle}>\r\n                    <h2>회원가입</h2>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Control type=\"email\" placeholder=\"이메일\" ref={ref=>this.new_emailE=ref} required/><br />\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Control type=\"password\" placeholder=\"Enter Password\" ref={ref=>this.new_pwdE=ref} required/><br />\r\n                        </Form.Group>\r\n                        <Form.Control type=\"text\" placeholder=\"닉네임\" ref={ref=>this.new_nickE=ref} required/><br />\r\n                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                            <Form.Control as=\"select\" value={this.state.value} onChange={this.handleChange}>\r\n                                <option>회사의 산업분야</option>\r\n                                <option value=\"agriculture\">농업, 임업 및 어업</option>\r\n                                <option value=\"mining\">광업</option>\r\n                                <option value=\"manufacturing\">제조업</option>\r\n                                <option value=\"electronic\">전기 공급업</option>\r\n                                <option value=\"water\">수도, 하수 및 폐기물 처리</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Control type=\"text\" placeholder=\"회사명\" ref={ref=>this.new_companyE=ref} required/><br />\r\n                    </Form.Group>\r\n                    <ButtonToolbar>\r\n                        <Button variant=\"primary\" type=\"submit\" onClick={this.user_insert}>제출</Button>\r\n                        <Button variant=\"warning\" type=\"submit\" onClick={this.loginHome}>돌아가기</Button>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}