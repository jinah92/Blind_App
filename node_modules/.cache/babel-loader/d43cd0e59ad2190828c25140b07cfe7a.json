{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Form}from'react-bootstrap';import axios from\"axios\";import $ from'jquery';import{HashRouter,NavLink,Route}from'react-router-dom';import Post from'./post';axios.defaults.withCredentials=true;var headers={withCredentials:true};var UploadPost=/*#__PURE__*/function(_Component){_inherits(UploadPost,_Component);function UploadPost(){var _getPrototypeOf2;var _this;_classCallCheck(this,UploadPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UploadPost)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.upload_post=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var send_param;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!$.cookie(\"login_id\")){_context.next=16;break;}if(_this.postContent.value){_context.next=5;break;}alert('내용을 입력해주세요');_context.next=14;break;case 5:send_param={headers:headers,content:_this.postContent.value,memberId:$.cookie(\"login_id\")};_context.prev=6;_context.next=9;return axios.post('http://localhost:9090/post/upload',send_param).then(function(returnData){if(returnData.data.message){alert(\"Post 등록완료\");}else{alert(\"Post 등록실패\");}_this.postContent.value=\"\";_this.postContent.focus();});case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 14:_context.next=17;break;case 16:alert('로그인이 필요합니다');case 17:case\"end\":return _context.stop();}}},_callee,null,[[6,11]]);}));return _this;}_createClass(UploadPost,[{key:\"render\",value:function render(){var _this2=this;var upload_form={width:\"50%\",height:\"80%\",position:\"fixed\",top:100,right:0,bottom:0,left:0,margin:\"auto\",textAlign:\"center\"};return React.createElement(\"div\",{className:\"comment_form\",style:upload_form},React.createElement(\"h2\",null,\"\\uC5EC\\uB7EC\\uBD84\\uC758 \\uC18C\\uC2DD\\uC744 \\uB4E4\\uB824\\uC8FC\\uC138\\uC694\"),React.createElement(\"hr\",null),React.createElement(Form,null,React.createElement(Form.Group,{controlId:\"exampleForm.ControlTextarea1\"},React.createElement(Form.Control,{as:\"textarea\",rows:\"5\",cols:\"10\",placeholder:\"\\uD3EC\\uC2A4\\uD2B8 \\uB0B4\\uC6A9\",ref:function ref(_ref2){return _this2.postContent=_ref2;}})),React.createElement(Button,{onClick:this.upload_post},\"\\uAE00 \\uB4F1\\uB85D\")));}}]);return UploadPost;}(Component);export default UploadPost;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/post/upload_post.jsx"],"names":["React","Component","Button","Form","axios","$","HashRouter","NavLink","Route","Post","defaults","withCredentials","headers","UploadPost","upload_post","cookie","postContent","value","alert","send_param","content","memberId","post","then","returnData","data","message","focus","console","log","upload_form","width","height","position","top","right","bottom","left","margin","textAlign","ref"],"mappings":"k5BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,MAAR,CAAgBC,IAAhB,KAA2B,iBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,OAASC,UAAT,CAAsBC,OAAtB,CAA+BC,KAA/B,KAA2C,kBAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEAL,KAAK,CAACM,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CACA,GAAMC,CAAAA,OAAO,CAAG,CAACD,eAAe,CAAE,IAAlB,CAAhB,C,GAEME,CAAAA,U,+YACFC,W,sEAAc,sJACPT,CAAC,CAACU,MAAF,CAAS,UAAT,CADO,6BAEF,MAAKC,WAAL,CAAiBC,KAFf,yBAGFC,KAAK,CAAC,YAAD,CAAL,CAHE,8BAKIC,UALJ,CAKgB,CACdP,OAAO,CAAPA,OADc,CAEdQ,OAAO,CAAE,MAAKJ,WAAL,CAAiBC,KAFZ,CAGdI,QAAQ,CAAEhB,CAAC,CAACU,MAAF,CAAS,UAAT,CAHI,CALhB,uCAWQX,CAAAA,KAAK,CAACkB,IAAN,CAAW,mCAAX,CAAgDH,UAAhD,EACLI,IADK,CACA,SAACC,UAAD,CAAc,CAChB,GAAGA,UAAU,CAACC,IAAX,CAAgBC,OAAnB,CAA2B,CACvBR,KAAK,CAAC,WAAD,CAAL,CACH,CAFD,IAEK,CACDA,KAAK,CAAC,WAAD,CAAL,CACH,CACD,MAAKF,WAAL,CAAiBC,KAAjB,CAAuB,EAAvB,CACA,MAAKD,WAAL,CAAiBW,KAAjB,GACH,CATK,CAXR,yFAsBEC,OAAO,CAACC,GAAR,cAtBF,uCA0BNX,KAAK,CAAC,YAAD,CAAL,CA1BM,qE,+EA6BN,iBACJ,GAAMY,CAAAA,WAAW,CAAC,CACdC,KAAK,CAAE,KADO,CAEdC,MAAM,CAAE,KAFM,CAGdC,QAAQ,CAAC,OAHK,CAIdC,GAAG,CAAC,GAJU,CAKdC,KAAK,CAAC,CALQ,CAMdC,MAAM,CAAC,CANO,CAOdC,IAAI,CAAC,CAPS,CAQdC,MAAM,CAAC,MARO,CASdC,SAAS,CAAE,QATG,CAAlB,CAWA,MACI,4BAAK,SAAS,CAAC,cAAf,CAA8B,KAAK,CAAET,WAArC,EACI,2GADJ,CAC2B,8BAD3B,CAEI,oBAAC,IAAD,MACI,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,8BAAtB,EACI,oBAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,UAAjB,CAA4B,IAAI,CAAC,GAAjC,CAAqC,IAAI,CAAC,IAA1C,CAA+C,WAAW,CAAC,iCAA3D,CAAoE,GAAG,CAAE,aAAAU,KAAG,QAAE,CAAA,MAAI,CAACxB,WAAL,CAAiBwB,KAAnB,EAA5E,EADJ,CADJ,CAII,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAK1B,WAAtB,wBAJJ,CAFJ,CADJ,CAWH,C,wBArDoBb,S,EAwDzB,cAAeY,CAAAA,UAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Form} from 'react-bootstrap';\r\nimport axios from \"axios\";\r\nimport $ from 'jquery';\r\nimport { HashRouter , NavLink, Route} from 'react-router-dom';\r\nimport Post from './post';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass UploadPost extends Component {\r\n    upload_post = async()=>{\r\n        if($.cookie(\"login_id\")){\r\n            if(!this.postContent.value){\r\n                alert('내용을 입력해주세요');\r\n            }else{\r\n                const send_param ={\r\n                    headers,\r\n                    content: this.postContent.value,\r\n                    memberId: $.cookie(\"login_id\")\r\n                }\r\n                try{\r\n                    await axios.post('http://localhost:9090/post/upload', send_param)\r\n                    .then((returnData)=>{\r\n                        if(returnData.data.message){\r\n                            alert(\"Post 등록완료\");\r\n                        }else{\r\n                            alert(\"Post 등록실패\");\r\n                        }\r\n                        this.postContent.value=\"\";\r\n                        this.postContent.focus();\r\n                    });\r\n                }catch(err){\r\n                    console.log(err);\r\n                }\r\n            }\r\n        }else{\r\n            alert('로그인이 필요합니다');\r\n        }        \r\n    }     \r\n    render(){\r\n        const upload_form={\r\n            width: \"50%\",\r\n            height: \"80%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        return(\r\n            <div className=\"comment_form\" style={upload_form}>\r\n                <h2>여러분의 소식을 들려주세요</h2><hr />\r\n                <Form>\r\n                    <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                        <Form.Control as=\"textarea\" rows=\"5\" cols=\"10\" placeholder=\"포스트 내용\" ref={ref=>this.postContent=ref}/>\r\n                    </Form.Group>\r\n                    <Button onClick={this.upload_post}>글 등록</Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UploadPost;"]},"metadata":{},"sourceType":"module"}