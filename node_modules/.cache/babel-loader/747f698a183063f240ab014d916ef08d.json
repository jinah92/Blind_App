{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from\"axios\";import{InputGroup,FormControl,Button}from'react-bootstrap';import CommentItem from'./commentItem';import $ from'jquery';axios.defaults.withCredentials=true;var headers={withCredentials:true};var Comments=/*#__PURE__*/function(_Component){_inherits(Comments,_Component);function Comments(props){var _this;_classCallCheck(this,Comments);_this=_possibleConstructorReturn(this,_getPrototypeOf(Comments).call(this,props));_this.ShowComments=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var commentId,send_param,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:commentId=_this.props.postId;send_param={commentId:commentId,headers:headers};_context.prev=2;_context.next=5;return axios.post('http://localhost:9090/comment/allcomments',send_param);case 5:result=_context.sent;if(result.data.comments){_this.setState({comments:result.data.comments});}console.log(result);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));_this.comment_insert=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var send_param;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:send_param={headers:headers,comment:_this.commentE.value,postId:_this.props.postId,memberId:$.cookie('login_id')};_context2.prev=1;_context2.next=4;return axios.post('http://localhost:9090/comment/insert',send_param).then(function(returnData){if(returnData.data.message){alert(\"댓글 등록완료\");_this.ShowComments();}else{alert(\"댓글 등록실패\");}_this.commentE.value=\"\";_this.commentE.focus();});case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[1,6]]);}));_this.state={comments:[]};return _this;}_createClass(Comments,[{key:\"componentDidMount\",value:function componentDidMount(){this.ShowComments();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(InputGroup,{size:\"sm\",className:\"mb-3\"},React.createElement(FormControl,{ref:function ref(_ref3){return _this2.commentE=_ref3;},\"aria-label\":\"Small\",\"aria-describedby\":\"inputGroup-sizing-sm\"}),React.createElement(Button,{onClick:this.comment_insert,size:\"sm\",variant:\"outline-dark\"},\"\\uB313\\uAE00 \\uB4F1\\uB85D\")),React.createElement(CommentItem,{entries:this.state.comments,postId:this.props.postId,ShowComments:this.ShowComments}));}}]);return Comments;}(Component);export default Comments;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/comment/comments.jsx"],"names":["React","Component","axios","InputGroup","FormControl","Button","CommentItem","$","defaults","withCredentials","headers","Comments","props","ShowComments","commentId","postId","send_param","post","result","data","comments","setState","console","log","comment_insert","comment","commentE","value","memberId","cookie","then","returnData","message","alert","focus","state","ref"],"mappings":"k5BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,CAAoBC,WAApB,CAAiCC,MAAjC,KAA8C,iBAA9C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAEAL,KAAK,CAACM,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CACA,GAAMC,CAAAA,OAAO,CAAG,CAACD,eAAe,CAAE,IAAlB,CAAhB,C,GAEME,CAAAA,Q,kEACF,kBAAYC,KAAZ,CAAkB,0CACd,0EAAMA,KAAN,GADc,MASlBC,YATkB,sEASL,mKACHC,SADG,CACO,MAAKF,KAAL,CAAWG,MADlB,CAEHC,UAFG,CAEQ,CAACF,SAAS,CAATA,SAAD,CAAYJ,OAAO,CAAPA,OAAZ,CAFR,uCAIgBR,CAAAA,KAAK,CAACe,IAAN,CAAW,2CAAX,CAAwDD,UAAxD,CAJhB,QAICE,MAJD,eAKL,GAAGA,MAAM,CAACC,IAAP,CAAYC,QAAf,CAAwB,CACpB,MAAKC,QAAL,CAAc,CACVD,QAAQ,CAAEF,MAAM,CAACC,IAAP,CAAYC,QADZ,CAAd,EAGH,CACDE,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAVK,iFAYLI,OAAO,CAACC,GAAR,cAZK,qEATK,SAwBlBC,cAxBkB,sEAwBD,uJACPR,UADO,CACK,CACdN,OAAO,CAAPA,OADc,CAEde,OAAO,CAAE,MAAKC,QAAL,CAAcC,KAFT,CAGdZ,MAAM,CAAE,MAAKH,KAAL,CAAWG,MAHL,CAIda,QAAQ,CAAErB,CAAC,CAACsB,MAAF,CAAS,UAAT,CAJI,CADL,yCAQH3B,CAAAA,KAAK,CAACe,IAAN,CAAW,sCAAX,CAAmDD,UAAnD,EACLc,IADK,CACA,SAACC,UAAD,CAAc,CAChB,GAAGA,UAAU,CAACZ,IAAX,CAAgBa,OAAnB,CAA2B,CACvBC,KAAK,CAAC,SAAD,CAAL,CACA,MAAKpB,YAAL,GACH,CAHD,IAGK,CACDoB,KAAK,CAAC,SAAD,CAAL,CACH,CACD,MAAKP,QAAL,CAAcC,KAAd,CAAoB,EAApB,CACA,MAAKD,QAAL,CAAcQ,KAAd,GACH,CAVK,CARG,0FAoBTZ,OAAO,CAACC,GAAR,eApBS,qEAxBC,GAEd,MAAKY,KAAL,CAAW,CACPf,QAAQ,CAAE,EADH,CAAX,CAFc,aAKjB,C,kFACkB,CACf,KAAKP,YAAL,GACH,C,uCAuCO,iBACJ,MACI,gCACI,oBAAC,UAAD,EAAY,IAAI,CAAC,IAAjB,CAAsB,SAAS,CAAC,MAAhC,EACI,oBAAC,WAAD,EAAa,GAAG,CAAE,aAAAuB,KAAG,QAAE,CAAA,MAAI,CAACV,QAAL,CAAcU,KAAhB,EAArB,CAA0C,aAAW,OAArD,CAA6D,mBAAiB,sBAA9E,EADJ,CAEI,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKZ,cAAtB,CAAsC,IAAI,CAAC,IAA3C,CAAgD,OAAO,CAAC,cAAxD,8BAFJ,CADJ,CAKQ,oBAAC,WAAD,EAAa,OAAO,CAAE,KAAKW,KAAL,CAAWf,QAAjC,CAA2C,MAAM,CAAE,KAAKR,KAAL,CAAWG,MAA9D,CAAsE,YAAY,CAAE,KAAKF,YAAzF,EALR,CADJ,CASH,C,sBA1DkBZ,S,EA6DvB,cAAeU,CAAAA,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from \"axios\";\r\nimport {InputGroup, FormControl, Button} from 'react-bootstrap';\r\nimport CommentItem from './commentItem';\r\nimport $ from 'jquery';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass Comments extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            comments: []\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        this.ShowComments();\r\n    }\r\n    ShowComments=async()=>{\r\n        const commentId=this.props.postId;\r\n        const send_param={commentId, headers};\r\n        try{\r\n            const result = await axios.post('http://localhost:9090/comment/allcomments', send_param);\r\n            if(result.data.comments){\r\n                this.setState({\r\n                    comments: result.data.comments\r\n                });\r\n            }\r\n            console.log(result);\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n    comment_insert = async()=>{\r\n        const send_param ={\r\n            headers,\r\n            comment: this.commentE.value,\r\n            postId: this.props.postId,\r\n            memberId: $.cookie('login_id')\r\n        }\r\n        try{\r\n            await axios.post('http://localhost:9090/comment/insert', send_param)\r\n            .then((returnData)=>{\r\n                if(returnData.data.message){\r\n                    alert(\"댓글 등록완료\");\r\n                    this.ShowComments();\r\n                }else{\r\n                    alert(\"댓글 등록실패\");\r\n                }\r\n                this.commentE.value=\"\";\r\n                this.commentE.focus();\r\n            });\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n    }     \r\n    render(){\r\n        return(\r\n            <div>\r\n                <InputGroup size=\"sm\" className=\"mb-3\">\r\n                    <FormControl ref={ref=>this.commentE=ref} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" />\r\n                    <Button onClick={this.comment_insert} size=\"sm\" variant=\"outline-dark\">댓글 등록</Button>\r\n                </InputGroup>\r\n                    <CommentItem entries={this.state.comments} postId={this.props.postId} ShowComments={this.ShowComments}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Comments;"]},"metadata":{},"sourceType":"module"}