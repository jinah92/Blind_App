{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\user\\\\login.jsx\";\nimport React, { Component } from \"react\";\nimport { NavLink, Route, HashRouter } from \"react-dom\";\nimport { Form, Button, ButtonToolbar } from \"react-bootstrap\";\nimport $ from \"jquery\";\nimport \"jquery.cookie\";\nimport axios from \"axios\";\n\nrequire(\"dotenv\").config();\n\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      login_nick: this.props.nick,\n      loginStyle: \"inline-block\",\n      logoutStyle: \"none\",\n      registerStyle: \"none\",\n      value: \"\"\n    };\n\n    this.logout = () => {\n      axios.post(\"http://70.12.225.87:9090/member/logout\", {\n        headers\n      }).then(returnData => {\n        if (returnData.data.message) {\n          $.removeCookie(\"login_nick\");\n          $.removeCookie(\"login_id\");\n          this.setState({\n            loginStyle: \"inline-block\",\n            logoutStyle: \"none\"\n          });\n        }\n\n        this.emailE.value = \"\";\n        this.pwdE.value = \"\";\n      });\n    };\n\n    this.login = () => {\n      const send_param = {\n        headers,\n        email: this.emailE.value,\n        pwd: this.pwdE.value\n      };\n      console.log(process.env.REACT_APP_DB_PORT);\n      axios.post(process.env.REACT_APP_IP.concat(\":\", process.env.REACT_APP_DB_PORT, \"/member/login\"), send_param).then(returnData => {\n        console.log(returnData.data);\n\n        if (returnData.data.result.nickname) {\n          const nickname = returnData.data.result.nickname;\n          alert(nickname + \"님, 환영합니다!\");\n          $.cookie(\"login_nick\", returnData.data.result.nickname);\n          $.cookie(\"login_id\", returnData.data.result.id);\n          this.setState({\n            login_nick: returnData.data.result.nickname,\n            loginStyle: \"none\",\n            logoutStyle: \"inline-block\"\n          });\n        } else {\n          alert(\"로그인 실패\");\n        }\n      });\n    };\n\n    this.user_insert = () => {\n      const send_param = {\n        nickname: this.new_nickE.value,\n        email: this.new_emailE.value,\n        pwd: this.new_pwdE.value,\n        company: this.new_companyE.value\n      };\n      $.post(\"http://70.12.225.87:9090/member/insert\", send_param).then(returnData => {\n        var nickname = returnData.member.nickname;\n\n        if (returnData.member) {\n          alert(nickname + \"님, 가입 성공\");\n          this.setState({\n            loginStyle: \"inline-block\",\n            registerStyle: \"none\"\n          });\n        } else {\n          alert(\"insert member denied\");\n        }\n      });\n    };\n\n    this.register = () => {\n      this.setState({\n        loginStyle: \"none\",\n        logoutStyle: \"none\",\n        registerStyle: \"inline-block\"\n      });\n      this.new_emailE.value = \"\";\n      this.new_nickE.value = \"\";\n      this.new_companyE.value = \"\";\n      this.new_pwdE.value = \"\";\n    };\n\n    this.loginHome = () => {\n      this.setState({\n        loginStyle: \"inline-block\",\n        registerStyle: \"none\"\n      });\n    };\n\n    this.userInfo = () => {\n      alert($.cookie(\"login_nick\"));\n    };\n  }\n\n  render() {\n    const loginStyle = {\n      display: this.state.loginStyle,\n      width: \"30%\",\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\",\n      textAlign: \"center\"\n    };\n    const logoutStyle = {\n      display: this.state.logoutStyle,\n      width: \"30%\",\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\",\n      textAlign: \"center\"\n    };\n    const registerStyle = {\n      display: this.state.registerStyle,\n      width: \"30%\",\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\",\n      textAlign: \"center\"\n    };\n    let login_nick;\n\n    if ($.cookie(\"login_nick\")) {\n      login_nick = $.cookie(\"login_nick\");\n      loginStyle.display = \"none\";\n      logoutStyle.display = \"inline-block\";\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: loginStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"\\uB85C\\uADF8\\uC778\"), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      ref: ref => this.emailE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      ref: ref => this.pwdE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"\\uB85C\\uADF8\\uC778\"), React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      onClick: this.register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\")), React.createElement(\"div\", {\n      style: logoutStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, login_nick, \" \\uB2D8, \\uC811\\uC18D\", React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"warning\",\n      type: \"submit\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"\\uB85C\\uADF8\\uC544\\uC6C3\"), React.createElement(Button, {\n      onClick: this.userInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"\\uD68C\\uC6D0\\uC815\\uBCF4\"))), React.createElement(\"div\", {\n      style: registerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"\\uC774\\uBA54\\uC77C\",\n      ref: ref => this.new_emailE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      ref: ref => this.new_pwdE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })), React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"\\uB2C9\\uB124\\uC784\",\n      ref: ref => this.new_nickE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlSelect1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"\\uD68C\\uC0AC\\uC758 \\uC0B0\\uC5C5\\uBD84\\uC57C\"), React.createElement(\"option\", {\n      value: \"agriculture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"\\uB18D\\uC5C5, \\uC784\\uC5C5 \\uBC0F \\uC5B4\\uC5C5\"), React.createElement(\"option\", {\n      value: \"mining\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"\\uAD11\\uC5C5\"), React.createElement(\"option\", {\n      value: \"manufacturing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"\\uC81C\\uC870\\uC5C5\"), React.createElement(\"option\", {\n      value: \"electronic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"\\uC804\\uAE30 \\uACF5\\uAE09\\uC5C5\"), React.createElement(\"option\", {\n      value: \"water\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"\\uC218\\uB3C4, \\uD558\\uC218 \\uBC0F \\uD3D0\\uAE30\\uBB3C \\uCC98\\uB9AC\"))), React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"\\uD68C\\uC0AC\\uBA85\",\n      ref: ref => this.new_companyE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    })), React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: this.user_insert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"\\uC81C\\uCD9C\"), React.createElement(Button, {\n      variant: \"warning\",\n      type: \"submit\",\n      onClick: this.loginHome,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"\\uB3CC\\uC544\\uAC00\\uAE30\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/user/login.jsx"],"names":["React","Component","NavLink","Route","HashRouter","Form","Button","ButtonToolbar","$","axios","require","config","defaults","withCredentials","headers","Login","state","login_nick","props","nick","loginStyle","logoutStyle","registerStyle","value","logout","post","then","returnData","data","message","removeCookie","setState","emailE","pwdE","login","send_param","email","pwd","console","log","process","env","REACT_APP_DB_PORT","REACT_APP_IP","concat","result","nickname","alert","cookie","id","user_insert","new_nickE","new_emailE","new_pwdE","company","new_companyE","member","register","loginHome","userInfo","render","display","width","position","top","right","bottom","left","margin","textAlign","ref","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NavLink, Route, HashRouter } from \"react-dom\";\r\nimport { Form, Button, ButtonToolbar } from \"react-bootstrap\";\r\nimport $ from \"jquery\";\r\nimport {} from \"jquery.cookie\";\r\nimport axios from \"axios\";\r\nrequire(\"dotenv\").config();\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = { withCredentials: true };\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    login_nick: this.props.nick,\r\n    loginStyle: \"inline-block\",\r\n    logoutStyle: \"none\",\r\n    registerStyle: \"none\",\r\n    value: \"\"\r\n  };\r\n  logout = () => {\r\n    axios.post(\"http://70.12.225.87:9090/member/logout\", { headers }).then(returnData => {\r\n      if (returnData.data.message) {\r\n        $.removeCookie(\"login_nick\");\r\n        $.removeCookie(\"login_id\");\r\n        this.setState({\r\n          loginStyle: \"inline-block\",\r\n          logoutStyle: \"none\"\r\n        });\r\n      }\r\n      this.emailE.value = \"\";\r\n      this.pwdE.value = \"\";\r\n    });\r\n  };\r\n  login = () => {\r\n    const send_param = {\r\n      headers,\r\n      email: this.emailE.value,\r\n      pwd: this.pwdE.value\r\n    };\r\n    console.log(process.env.REACT_APP_DB_PORT);\r\n    axios\r\n      .post(\r\n        process.env.REACT_APP_IP.concat(\":\", process.env.REACT_APP_DB_PORT, \"/member/login\"),\r\n        send_param\r\n      )\r\n      .then(returnData => {\r\n        console.log(returnData.data);\r\n        if (returnData.data.result.nickname) {\r\n          const nickname = returnData.data.result.nickname;\r\n          alert(nickname + \"님, 환영합니다!\");\r\n          $.cookie(\"login_nick\", returnData.data.result.nickname);\r\n          $.cookie(\"login_id\", returnData.data.result.id);\r\n          this.setState({\r\n            login_nick: returnData.data.result.nickname,\r\n            loginStyle: \"none\",\r\n            logoutStyle: \"inline-block\"\r\n          });\r\n        } else {\r\n          alert(\"로그인 실패\");\r\n        }\r\n      });\r\n  };\r\n  user_insert = () => {\r\n    const send_param = {\r\n      nickname: this.new_nickE.value,\r\n      email: this.new_emailE.value,\r\n      pwd: this.new_pwdE.value,\r\n      company: this.new_companyE.value\r\n    };\r\n    $.post(\"http://70.12.225.87:9090/member/insert\", send_param).then(returnData => {\r\n      var nickname = returnData.member.nickname;\r\n      if (returnData.member) {\r\n        alert(nickname + \"님, 가입 성공\");\r\n        this.setState({\r\n          loginStyle: \"inline-block\",\r\n          registerStyle: \"none\"\r\n        });\r\n      } else {\r\n        alert(\"insert member denied\");\r\n      }\r\n    });\r\n  };\r\n  register = () => {\r\n    this.setState({\r\n      loginStyle: \"none\",\r\n      logoutStyle: \"none\",\r\n      registerStyle: \"inline-block\"\r\n    });\r\n    this.new_emailE.value = \"\";\r\n    this.new_nickE.value = \"\";\r\n    this.new_companyE.value = \"\";\r\n    this.new_pwdE.value = \"\";\r\n  };\r\n  loginHome = () => {\r\n    this.setState({\r\n      loginStyle: \"inline-block\",\r\n      registerStyle: \"none\"\r\n    });\r\n  };\r\n  userInfo = () => {\r\n    alert($.cookie(\"login_nick\"));\r\n  };\r\n  render() {\r\n    const loginStyle = {\r\n      display: this.state.loginStyle,\r\n      width: \"30%\",\r\n      position: \"fixed\",\r\n      top: 100,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      margin: \"auto\",\r\n      textAlign: \"center\"\r\n    };\r\n    const logoutStyle = {\r\n      display: this.state.logoutStyle,\r\n      width: \"30%\",\r\n      position: \"fixed\",\r\n      top: 100,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      margin: \"auto\",\r\n      textAlign: \"center\"\r\n    };\r\n    const registerStyle = {\r\n      display: this.state.registerStyle,\r\n      width: \"30%\",\r\n      position: \"fixed\",\r\n      top: 100,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      margin: \"auto\",\r\n      textAlign: \"center\"\r\n    };\r\n    let login_nick;\r\n    if ($.cookie(\"login_nick\")) {\r\n      login_nick = $.cookie(\"login_nick\");\r\n      loginStyle.display = \"none\";\r\n      logoutStyle.display = \"inline-block\";\r\n    }\r\n    return (\r\n      <div>\r\n        <div style={loginStyle}>\r\n          <h2>로그인</h2>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              ref={ref => (this.emailE = ref)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              ref={ref => (this.pwdE = ref)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary\" type=\"submit\" onClick={this.login}>\r\n            로그인\r\n          </Button>\r\n          <Button variant=\"success\" type=\"submit\" onClick={this.register}>\r\n            회원가입\r\n          </Button>\r\n        </div>\r\n\r\n        <div style={logoutStyle}>\r\n          {login_nick} 님, 접속\r\n          <ButtonToolbar>\r\n            <Button variant=\"warning\" type=\"submit\" onClick={this.logout}>\r\n              로그아웃\r\n            </Button>\r\n            <Button onClick={this.userInfo}>회원정보</Button>\r\n          </ButtonToolbar>\r\n        </div>\r\n\r\n        <div style={registerStyle}>\r\n          <h2>회원가입</h2>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"이메일\"\r\n              ref={ref => (this.new_emailE = ref)}\r\n              required\r\n            />\r\n            <br />\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Enter Password\"\r\n                ref={ref => (this.new_pwdE = ref)}\r\n                required\r\n              />\r\n              <br />\r\n            </Form.Group>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"닉네임\"\r\n              ref={ref => (this.new_nickE = ref)}\r\n              required\r\n            />\r\n            <br />\r\n            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n              <Form.Control as=\"select\" value={this.state.value} onChange={this.handleChange}>\r\n                <option>회사의 산업분야</option>\r\n                <option value=\"agriculture\">농업, 임업 및 어업</option>\r\n                <option value=\"mining\">광업</option>\r\n                <option value=\"manufacturing\">제조업</option>\r\n                <option value=\"electronic\">전기 공급업</option>\r\n                <option value=\"water\">수도, 하수 및 폐기물 처리</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"회사명\"\r\n              ref={ref => (this.new_companyE = ref)}\r\n              required\r\n            />\r\n            <br />\r\n          </Form.Group>\r\n          <ButtonToolbar>\r\n            <Button variant=\"primary\" type=\"submit\" onClick={this.user_insert}>\r\n              제출\r\n            </Button>\r\n            <Button variant=\"warning\" type=\"submit\" onClick={this.loginHome}>\r\n              돌아가기\r\n            </Button>\r\n          </ButtonToolbar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}