{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\post\\\\mypostItems.jsx\";\nimport React, { Component } from \"react\";\nimport $ from \"jquery\";\nimport axios from \"axios\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Moment from \"react-moment\";\nimport { Button, InputGroup, FormControl } from \"react-bootstrap\";\n\nclass MyPostItems extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      myposts: this.props.entries,\n      update_style: \"none\",\n      default_style: \"\"\n    };\n\n    this.update_post_final = async () => {\n      const post_id = this.props.id;\n      const content = this.updated_content.value;\n      const send_param = {\n        post_id,\n        content\n      };\n\n      try {\n        const result = await axios.post(\"http://70.12.225.87:9090/post/update\", send_param);\n\n        if (result.data.result) {\n          alert(\"수정 완료\");\n          this.setState({\n            myposts: result.data.result,\n            update_style: \"none\",\n            default_style: \"\"\n          });\n          this.props.showPosts();\n        } else {\n          alert(\"수정 오류\");\n        }\n      } catch (err) {\n        console.log(err);\n        alert(\"시스템 오류\");\n      }\n    };\n\n    this.update_post = () => {\n      this.setState({\n        update_style: \"\",\n        default_style: \"none\"\n      });\n    };\n\n    this.update_cancel = () => {\n      this.setState({\n        update_style: \"none\",\n        default_style: \"\"\n      });\n    };\n  }\n\n  render() {\n    const update_style = {\n      display: this.state.update_style\n    };\n    const default_style = {\n      display: this.state.default_style\n    };\n    return React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.props.id), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.props.nickname), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      format: \"YYYY-MM-DD HH:mm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.props.createDate)), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      format: \"YYYY-MM-DD HH:mm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.props.updateDate)), React.createElement(TableCell, {\n      ref: ref => this.default = ref,\n      style: default_style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.props.content), React.createElement(InputGroup, {\n      className: \"mb-3\",\n      ref: ref => this.update = ref,\n      style: update_style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      as: \"textarea\",\n      \"aria-label\": \"With textarea\",\n      ref: ref => this.updated_content = ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.props.content)), React.createElement(TableCell, {\n      style: default_style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-warning\",\n      onClick: this.update_post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\uC218\\uC815\")), React.createElement(TableCell, {\n      style: update_style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.update_cancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\uCDE8\\uC18C\"), React.createElement(Button, {\n      variant: \"success\",\n      onClick: this.update_post_final,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"\\uC218\\uC815\\uC644\\uB8CC\")), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-danger\",\n      onClick: this.props.superDelete.bind(null, this.props.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\uC0AD\\uC81C\")));\n  }\n\n}\n\nexport default MyPostItems;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/post/mypostItems.jsx"],"names":["React","Component","$","axios","TableRow","TableCell","Moment","Button","InputGroup","FormControl","MyPostItems","state","myposts","props","entries","update_style","default_style","update_post_final","post_id","id","content","updated_content","value","send_param","result","post","data","alert","setState","showPosts","err","console","log","update_post","update_cancel","render","display","nickname","createDate","updateDate","ref","default","update","superDelete","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Moment from \"react-moment\";\r\nimport { Button, InputGroup, FormControl } from \"react-bootstrap\";\r\n\r\nclass MyPostItems extends Component {\r\n  state = {\r\n    myposts: this.props.entries,\r\n    update_style: \"none\",\r\n    default_style: \"\"\r\n  };\r\n  update_post_final = async () => {\r\n    const post_id = this.props.id;\r\n    const content = this.updated_content.value;\r\n    const send_param = { post_id, content };\r\n    try {\r\n      const result = await axios.post(\"http://70.12.225.87:9090/post/update\", send_param);\r\n      if (result.data.result) {\r\n        alert(\"수정 완료\");\r\n        this.setState({\r\n          myposts: result.data.result,\r\n          update_style: \"none\",\r\n          default_style: \"\"\r\n        });\r\n        this.props.showPosts();\r\n      } else {\r\n        alert(\"수정 오류\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      alert(\"시스템 오류\");\r\n    }\r\n  };\r\n  update_post = () => {\r\n    this.setState({\r\n      update_style: \"\",\r\n      default_style: \"none\"\r\n    });\r\n  };\r\n  update_cancel = () => {\r\n    this.setState({\r\n      update_style: \"none\",\r\n      default_style: \"\"\r\n    });\r\n  };\r\n  render() {\r\n    const update_style = {\r\n      display: this.state.update_style\r\n    };\r\n    const default_style = {\r\n      display: this.state.default_style\r\n    };\r\n    return (\r\n      <TableRow>\r\n        <TableCell>{this.props.id}</TableCell>\r\n        <TableCell>{this.props.nickname}</TableCell>\r\n        <TableCell>\r\n          <Moment format=\"YYYY-MM-DD HH:mm\">{this.props.createDate}</Moment>\r\n        </TableCell>\r\n        <TableCell>\r\n          <Moment format=\"YYYY-MM-DD HH:mm\">{this.props.updateDate}</Moment>\r\n        </TableCell>\r\n        <TableCell ref={ref => (this.default = ref)} style={default_style}>\r\n          {this.props.content}\r\n        </TableCell>\r\n        <InputGroup className=\"mb-3\" ref={ref => (this.update = ref)} style={update_style}>\r\n          <FormControl\r\n            as=\"textarea\"\r\n            aria-label=\"With textarea\"\r\n            ref={ref => (this.updated_content = ref)}\r\n          >\r\n            {this.props.content}\r\n          </FormControl>\r\n        </InputGroup>\r\n        <TableCell style={default_style}>\r\n          <Button variant=\"outline-warning\" onClick={this.update_post}>\r\n            수정\r\n          </Button>\r\n        </TableCell>\r\n        <TableCell style={update_style}>\r\n          <Button variant=\"light\" onClick={this.update_cancel}>\r\n            취소\r\n          </Button>\r\n          <Button variant=\"success\" onClick={this.update_post_final}>\r\n            수정완료\r\n          </Button>\r\n        </TableCell>\r\n        <TableCell>\r\n          <Button\r\n            variant=\"outline-danger\"\r\n            onClick={this.props.superDelete.bind(null, this.props.id)}\r\n          >\r\n            삭제\r\n          </Button>\r\n        </TableCell>\r\n      </TableRow>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyPostItems;\r\n"]},"metadata":{},"sourceType":"module"}