{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\comment\\\\commentItem.jsx\";\nimport React, { Component } from \"react\";\nimport { Badge } from \"react-bootstrap\";\nimport Moment from \"react-moment\";\nimport $ from \"jquery\";\n\nclass CommentItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      comment: \"\"\n    };\n\n    this.deleteComment = commentId => {\n      const send_param = {\n        commentId\n      };\n      console.log(send_param);\n      $.post(\"http://localhost:9090/comment/delete\", send_param, returnData => {\n        if (returnData.message) {\n          alert(\"댓글 삭제 성공\");\n          this.props.ShowComments();\n        } else {\n          alert(\"댓글 삭제 실패\");\n        }\n      });\n    };\n  }\n\n  render() {\n    const comment_style = {\n      backgroundColor: this.state.comment\n    };\n    const comments = this.props.entries.map(comment => {\n      let commentId = comment.id;\n\n      if (!comment.member) {\n        comment.member = [];\n        comment.member.nickname = \"탈퇴한 사용자\";\n        this.setState({\n          comment: \"red\"\n        });\n      } else {\n        this.setState({\n          comment: \"\"\n        });\n        console.log(comment.member);\n      }\n\n      return React.createElement(\"div\", {\n        key: comment.id,\n        style: comment_style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, comment.member.nickname, \": \", comment.comment, \" \", React.createElement(Moment, {\n        format: \"YYYY-MM-DD HH:mm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, comment.createdAt), \" \", React.createElement(Badge, {\n        variant: \"danger\",\n        size: \"sm\",\n        onClick: () => {\n          this.deleteComment(commentId);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"\\uB313\\uAE00 \\uC0AD\\uC81C\"));\n    });\n    return React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, comments);\n  }\n\n}\n\nexport default CommentItem;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/comment/commentItem.jsx"],"names":["React","Component","Badge","Moment","$","CommentItem","state","comment","deleteComment","commentId","send_param","console","log","post","returnData","message","alert","props","ShowComments","render","comment_style","backgroundColor","comments","entries","map","id","member","nickname","setState","createdAt"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCK,KADkC,GAC1B;AACNC,MAAAA,OAAO,EAAE;AADH,KAD0B;;AAAA,SAIlCC,aAJkC,GAIlBC,SAAS,IAAI;AAC3B,YAAMC,UAAU,GAAG;AAAED,QAAAA;AAAF,OAAnB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAN,MAAAA,CAAC,CAACS,IAAF,CAAO,sCAAP,EAA+CH,UAA/C,EAA2DI,UAAU,IAAI;AACvE,YAAIA,UAAU,CAACC,OAAf,EAAwB;AACtBC,UAAAA,KAAK,CAAC,UAAD,CAAL;AACA,eAAKC,KAAL,CAAWC,YAAX;AACD,SAHD,MAGO;AACLF,UAAAA,KAAK,CAAC,UAAD,CAAL;AACD;AACF,OAPD;AAQD,KAfiC;AAAA;;AAgBlCG,EAAAA,MAAM,GAAG;AACP,UAAMC,aAAa,GAAG;AACpBC,MAAAA,eAAe,EAAE,KAAKf,KAAL,CAAWC;AADR,KAAtB;AAGA,UAAMe,QAAQ,GAAG,KAAKL,KAAL,CAAWM,OAAX,CAAmBC,GAAnB,CAAuBjB,OAAO,IAAI;AACjD,UAAIE,SAAS,GAAGF,OAAO,CAACkB,EAAxB;;AACA,UAAI,CAAClB,OAAO,CAACmB,MAAb,EAAqB;AACnBnB,QAAAA,OAAO,CAACmB,MAAR,GAAiB,EAAjB;AACAnB,QAAAA,OAAO,CAACmB,MAAR,CAAeC,QAAf,GAA0B,SAA1B;AACA,aAAKC,QAAL,CAAc;AAAErB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD,OAJD,MAIO;AACL,aAAKqB,QAAL,CAAc;AAAErB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACmB,MAApB;AACD;;AACD,aACE;AAAK,QAAA,GAAG,EAAEnB,OAAO,CAACkB,EAAlB;AAAsB,QAAA,KAAK,EAAEL,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGb,OAAO,CAACmB,MAAR,CAAeC,QADlB,QAC8BpB,OAAO,CAACA,OADtC,EAC+C,GAD/C,EAEE,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCA,OAAO,CAACsB,SAA3C,CAFF,EAEiE,GAFjE,EAGE,oBAAC,KAAD;AACE,QAAA,OAAO,EAAC,QADV;AAEE,QAAA,IAAI,EAAC,IAFP;AAGE,QAAA,OAAO,EAAE,MAAM;AACb,eAAKrB,aAAL,CAAmBC,SAAnB;AACD,SALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAHF,CADF;AAeD,KAzBgB,CAAjB;AA0BA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKa,QAAL,CAAP;AACD;;AA/CiC;;AAkDpC,eAAejB,WAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Badge } from \"react-bootstrap\";\r\nimport Moment from \"react-moment\";\r\nimport $ from \"jquery\";\r\n\r\nclass CommentItem extends Component {\r\n  state = {\r\n    comment: \"\"\r\n  };\r\n  deleteComment = commentId => {\r\n    const send_param = { commentId };\r\n    console.log(send_param);\r\n    $.post(\"http://localhost:9090/comment/delete\", send_param, returnData => {\r\n      if (returnData.message) {\r\n        alert(\"댓글 삭제 성공\");\r\n        this.props.ShowComments();\r\n      } else {\r\n        alert(\"댓글 삭제 실패\");\r\n      }\r\n    });\r\n  };\r\n  render() {\r\n    const comment_style = {\r\n      backgroundColor: this.state.comment\r\n    };\r\n    const comments = this.props.entries.map(comment => {\r\n      let commentId = comment.id;\r\n      if (!comment.member) {\r\n        comment.member = [];\r\n        comment.member.nickname = \"탈퇴한 사용자\";\r\n        this.setState({ comment: \"red\" });\r\n      } else {\r\n        this.setState({ comment: \"\" });\r\n        console.log(comment.member);\r\n      }\r\n      return (\r\n        <div key={comment.id} style={comment_style}>\r\n          {comment.member.nickname}: {comment.comment}{\" \"}\r\n          <Moment format=\"YYYY-MM-DD HH:mm\">{comment.createdAt}</Moment>{\" \"}\r\n          <Badge\r\n            variant=\"danger\"\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              this.deleteComment(commentId);\r\n            }}\r\n          >\r\n            댓글 삭제\r\n          </Badge>\r\n        </div>\r\n      );\r\n    });\r\n    return <ol>{comments}</ol>;\r\n  }\r\n}\r\n\r\nexport default CommentItem;\r\n"]},"metadata":{},"sourceType":"module"}