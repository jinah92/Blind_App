{"ast":null,"code":"var _jsxFileName = \"D:\\\\multicampus_coding\\\\ReactProject\\\\blind\\\\src\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport { NavLink, Route, HashRouter } from 'react-dom';\nimport { Form, Button, ButtonToolbar } from \"react-bootstrap\";\nimport $ from 'jquery';\nimport 'jquery.cookie';\nimport axios from 'axios';\nimport Sign from './sign';\naxios.defaults.withCredentials = true;\nconst headers = {\n  withCredentials: true\n};\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      login_nick: \"\",\n      loginStyle: \"inline-block\",\n      logoutStyle: \"none\",\n      registerStyle: \"none\",\n      value: \"\"\n    };\n\n    this.logout = () => {\n      axios.post('http://localhost:9090/member/logout', {\n        headers\n      }).then(returnData => {\n        if (returnData.data.message) {\n          $.removeCookie(\"login_nick\");\n          $.removeCookie(\"login_id\");\n          this.setState({\n            loginStyle: \"inline-block\",\n            logoutStyle: \"none\"\n          });\n        }\n\n        this.emailE.value = \"\";\n        this.pwdE.value = \"\";\n      });\n    };\n\n    this.login = () => {\n      const send_param = {\n        headers,\n        email: this.emailE.value,\n        pwd: this.pwdE.value\n      };\n      axios.post('http://localhost:9090/member/login', send_param).then(returnData => {\n        console.log(returnData.data);\n\n        if (returnData.data.result.nickname) {\n          const nickname = returnData.data.result.nickname;\n          alert(nickname + \"님, 환영합니다!\");\n          $.cookie(\"login_nick\", returnData.data.result.nickname);\n          $.cookie(\"login_id\", returnData.data.result.id);\n          this.setState({\n            login_nick: returnData.data.result.nickname,\n            loginStyle: \"none\",\n            logoutStyle: \"inline-block\"\n          });\n        } else {\n          alert(\"로그인 실패\");\n        }\n      });\n    };\n\n    this.user_insert = () => {\n      const send_param = {\n        nickname: this.new_nickE.value,\n        email: this.new_emailE.value,\n        pwd: this.new_pwdE.value,\n        company: this.new_companyE.value\n      };\n      $.post('http://localhost:9090/member/insert', send_param).then(returnData => {\n        var nickname = returnData.member.nickname;\n\n        if (returnData.member) {\n          alert(nickname + \"님, 가입 성공\");\n          this.setState({\n            loginStyle: \"inline-block\",\n            registerStyle: \"none\"\n          });\n        } else {\n          alert(\"insert member denied\");\n        }\n      });\n    };\n\n    this.register = () => {\n      this.setState({\n        loginStyle: \"none\",\n        logoutStyle: \"none\",\n        registerStyle: \"inline-block\"\n      });\n      this.new_emailE.value = \"\";\n      this.new_nickE.value = \"\";\n      this.new_companyE.value = \"\";\n      this.new_pwdE.value = \"\";\n    };\n\n    this.loginHome = () => {\n      this.setState({\n        loginStyle: \"inline-block\",\n        registerStyle: \"none\"\n      });\n    };\n\n    this.userInfo = () => {\n      alert($.cookie(\"login_nick\"));\n    };\n  }\n\n  render() {\n    const loginStyle = {\n      display: this.state.loginStyle,\n      width: \"30%\",\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\",\n      textAlign: \"center\"\n    };\n    const logoutStyle = {\n      display: this.state.logoutStyle,\n      width: \"30%\",\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\",\n      textAlign: \"center\"\n    };\n    const registerStyle = {\n      display: this.state.registerStyle,\n      width: \"30%\",\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\",\n      textAlign: \"center\"\n    };\n    let login_nick;\n\n    if ($.cookie(\"login_nick\")) {\n      login_nick = $.cookie(\"login_nick\");\n      loginStyle.display = \"none\";\n      logoutStyle.display = \"inline-block\";\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(HashRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"\\uB85C\\uADF8\\uC778\"), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      ref: ref => this.emailE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      ref: ref => this.pwdE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"\\uB85C\\uADF8\\uC778\"), React.createElement(NavLink, {\n      to: \"/sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      onClick: this.register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\")))), React.createElement(\"div\", {\n      className: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/sign\",\n      component: Sign,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: logoutStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, login_nick, \" \\uB2D8, \\uC811\\uC18D\", React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"warning\",\n      type: \"submit\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"\\uB85C\\uADF8\\uC544\\uC6C3\"), React.createElement(Button, {\n      onClick: this.userInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"\\uD68C\\uC6D0\\uC815\\uBCF4\"))), React.createElement(\"div\", {\n      style: registerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"\\uC774\\uBA54\\uC77C\",\n      ref: ref => this.new_emailE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      ref: ref => this.new_pwdE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"\\uB2C9\\uB124\\uC784\",\n      ref: ref => this.new_nickE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlSelect1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"\\uD68C\\uC0AC\\uC758 \\uC0B0\\uC5C5\\uBD84\\uC57C\"), React.createElement(\"option\", {\n      value: \"agriculture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"\\uB18D\\uC5C5, \\uC784\\uC5C5 \\uBC0F \\uC5B4\\uC5C5\"), React.createElement(\"option\", {\n      value: \"mining\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"\\uAD11\\uC5C5\"), React.createElement(\"option\", {\n      value: \"manufacturing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"\\uC81C\\uC870\\uC5C5\"), React.createElement(\"option\", {\n      value: \"electronic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"\\uC804\\uAE30 \\uACF5\\uAE09\\uC5C5\"), React.createElement(\"option\", {\n      value: \"water\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"\\uC218\\uB3C4, \\uD558\\uC218 \\uBC0F \\uD3D0\\uAE30\\uBB3C \\uCC98\\uB9AC\"))), React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"\\uD68C\\uC0AC\\uBA85\",\n      ref: ref => this.new_companyE = ref,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: this.user_insert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"\\uC81C\\uCD9C\"), React.createElement(Button, {\n      variant: \"warning\",\n      type: \"submit\",\n      onClick: this.loginHome,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"\\uB3CC\\uC544\\uAC00\\uAE30\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/multicampus_coding/ReactProject/blind/src/login.jsx"],"names":["React","Component","NavLink","Route","HashRouter","Form","Button","ButtonToolbar","$","axios","Sign","defaults","withCredentials","headers","Login","state","login_nick","loginStyle","logoutStyle","registerStyle","value","logout","post","then","returnData","data","message","removeCookie","setState","emailE","pwdE","login","send_param","email","pwd","console","log","result","nickname","alert","cookie","id","user_insert","new_nickE","new_emailE","new_pwdE","company","new_companyE","member","register","loginHome","userInfo","render","display","width","position","top","right","bottom","left","margin","textAlign","ref","handleChange"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,EAAiBC,KAAjB,EAAwBC,UAAxB,QAAyC,WAAzC;AACA,SAAQC,IAAR,EAAcC,MAAd,EAAsBC,aAAtB,QAA0C,iBAA1C;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAe,eAAf;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEAD,KAAK,CAACE,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,MAAMC,OAAO,GAAG;AAACD,EAAAA,eAAe,EAAE;AAAlB,CAAhB;;AAEA,MAAME,KAAN,SAAoBb,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC1Bc,KAD0B,GACpB;AACFC,MAAAA,UAAU,EAAE,EADV;AAEFC,MAAAA,UAAU,EAAE,cAFV;AAGFC,MAAAA,WAAW,EAAE,MAHX;AAIFC,MAAAA,aAAa,EAAE,MAJb;AAKFC,MAAAA,KAAK,EAAE;AALL,KADoB;;AAAA,SAQ1BC,MAR0B,GAQnB,MAAI;AACPZ,MAAAA,KAAK,CAACa,IAAN,CAAW,qCAAX,EAAkD;AAACT,QAAAA;AAAD,OAAlD,EACCU,IADD,CACOC,UAAD,IAAc;AAChB,YAAGA,UAAU,CAACC,IAAX,CAAgBC,OAAnB,EAA2B;AACvBlB,UAAAA,CAAC,CAACmB,YAAF,CAAe,YAAf;AACAnB,UAAAA,CAAC,CAACmB,YAAF,CAAe,UAAf;AACA,eAAKC,QAAL,CAAc;AACVX,YAAAA,UAAU,EAAE,cADF;AAEVC,YAAAA,WAAW,EAAE;AAFH,WAAd;AAIH;;AACD,aAAKW,MAAL,CAAYT,KAAZ,GAAkB,EAAlB;AACA,aAAKU,IAAL,CAAUV,KAAV,GAAgB,EAAhB;AACH,OAZD;AAaH,KAtByB;;AAAA,SAuB1BW,KAvB0B,GAuBpB,MAAI;AACN,YAAMC,UAAU,GAAC;AACbnB,QAAAA,OADa;AAEboB,QAAAA,KAAK,EAAE,KAAKJ,MAAL,CAAYT,KAFN;AAGbc,QAAAA,GAAG,EAAE,KAAKJ,IAAL,CAAUV;AAHF,OAAjB;AAKAX,MAAAA,KAAK,CAACa,IAAN,CAAW,oCAAX,EAAiDU,UAAjD,EACCT,IADD,CACOC,UAAD,IAAc;AAChBW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,UAAU,CAACC,IAAvB;;AACA,YAAGD,UAAU,CAACC,IAAX,CAAgBY,MAAhB,CAAuBC,QAA1B,EAAmC;AAC/B,gBAAMA,QAAQ,GAAGd,UAAU,CAACC,IAAX,CAAgBY,MAAhB,CAAuBC,QAAxC;AACAC,UAAAA,KAAK,CAACD,QAAQ,GAAG,WAAZ,CAAL;AACA9B,UAAAA,CAAC,CAACgC,MAAF,CAAS,YAAT,EAAuBhB,UAAU,CAACC,IAAX,CAAgBY,MAAhB,CAAuBC,QAA9C;AACA9B,UAAAA,CAAC,CAACgC,MAAF,CAAS,UAAT,EAAqBhB,UAAU,CAACC,IAAX,CAAgBY,MAAhB,CAAuBI,EAA5C;AACA,eAAKb,QAAL,CAAc;AACVZ,YAAAA,UAAU,EAAEQ,UAAU,CAACC,IAAX,CAAgBY,MAAhB,CAAuBC,QADzB;AAEVrB,YAAAA,UAAU,EAAE,MAFF;AAGVC,YAAAA,WAAW,EAAE;AAHH,WAAd;AAKH,SAVD,MAUK;AACDqB,UAAAA,KAAK,CAAC,QAAD,CAAL;AACH;AAEJ,OAjBD;AAkBH,KA/CyB;;AAAA,SAgD1BG,WAhD0B,GAgDd,MAAI;AACZ,YAAMV,UAAU,GAAG;AACfM,QAAAA,QAAQ,EAAE,KAAKK,SAAL,CAAevB,KADV;AAEfa,QAAAA,KAAK,EAAE,KAAKW,UAAL,CAAgBxB,KAFR;AAGfc,QAAAA,GAAG,EAAE,KAAKW,QAAL,CAAczB,KAHJ;AAIf0B,QAAAA,OAAO,EAAE,KAAKC,YAAL,CAAkB3B;AAJZ,OAAnB;AAMAZ,MAAAA,CAAC,CAACc,IAAF,CAAO,qCAAP,EAA8CU,UAA9C,EACCT,IADD,CACOC,UAAD,IAAc;AAChB,YAAIc,QAAQ,GAAGd,UAAU,CAACwB,MAAX,CAAkBV,QAAjC;;AACA,YAAGd,UAAU,CAACwB,MAAd,EAAqB;AACjBT,UAAAA,KAAK,CAACD,QAAQ,GAAE,UAAX,CAAL;AACA,eAAKV,QAAL,CAAc;AACVX,YAAAA,UAAU,EAAE,cADF;AAEVE,YAAAA,aAAa,EAAE;AAFL,WAAd;AAIH,SAND,MAMK;AACDoB,UAAAA,KAAK,CAAC,sBAAD,CAAL;AACH;AACJ,OAZD;AAeH,KAtEyB;;AAAA,SAuE1BU,QAvE0B,GAuEjB,MAAI;AACT,WAAKrB,QAAL,CAAc;AACVX,QAAAA,UAAU,EAAE,MADF;AAEVC,QAAAA,WAAW,EAAE,MAFH;AAGVC,QAAAA,aAAa,EAAE;AAHL,OAAd;AAKA,WAAKyB,UAAL,CAAgBxB,KAAhB,GAAsB,EAAtB;AACA,WAAKuB,SAAL,CAAevB,KAAf,GAAqB,EAArB;AACA,WAAK2B,YAAL,CAAkB3B,KAAlB,GAAwB,EAAxB;AACA,WAAKyB,QAAL,CAAczB,KAAd,GAAoB,EAApB;AACH,KAjFyB;;AAAA,SAkF1B8B,SAlF0B,GAkFhB,MAAI;AACV,WAAKtB,QAAL,CAAc;AACVX,QAAAA,UAAU,EAAE,cADF;AAEVE,QAAAA,aAAa,EAAE;AAFL,OAAd;AAIH,KAvFyB;;AAAA,SAwF1BgC,QAxF0B,GAwFjB,MAAI;AACTZ,MAAAA,KAAK,CAAC/B,CAAC,CAACgC,MAAF,CAAS,YAAT,CAAD,CAAL;AACH,KA1FyB;AAAA;;AA2F1BY,EAAAA,MAAM,GAAE;AACJ,UAAMnC,UAAU,GAAG;AACfoC,MAAAA,OAAO,EAAE,KAAKtC,KAAL,CAAWE,UADL;AAEfqC,MAAAA,KAAK,EAAE,KAFQ;AAGfC,MAAAA,QAAQ,EAAC,OAHM;AAIfC,MAAAA,GAAG,EAAC,GAJW;AAKfC,MAAAA,KAAK,EAAC,CALS;AAMfC,MAAAA,MAAM,EAAC,CANQ;AAOfC,MAAAA,IAAI,EAAC,CAPU;AAQfC,MAAAA,MAAM,EAAC,MARQ;AASfC,MAAAA,SAAS,EAAE;AATI,KAAnB;AAWA,UAAM3C,WAAW,GAAG;AAChBmC,MAAAA,OAAO,EAAE,KAAKtC,KAAL,CAAWG,WADJ;AAEhBoC,MAAAA,KAAK,EAAE,KAFS;AAGhBC,MAAAA,QAAQ,EAAC,OAHO;AAIhBC,MAAAA,GAAG,EAAC,GAJY;AAKhBC,MAAAA,KAAK,EAAC,CALU;AAMhBC,MAAAA,MAAM,EAAC,CANS;AAOhBC,MAAAA,IAAI,EAAC,CAPW;AAQhBC,MAAAA,MAAM,EAAC,MARS;AAShBC,MAAAA,SAAS,EAAE;AATK,KAApB;AAWA,UAAM1C,aAAa,GAAG;AAClBkC,MAAAA,OAAO,EAAE,KAAKtC,KAAL,CAAWI,aADF;AAElBmC,MAAAA,KAAK,EAAE,KAFW;AAGlBC,MAAAA,QAAQ,EAAC,OAHS;AAIlBC,MAAAA,GAAG,EAAC,GAJc;AAKlBC,MAAAA,KAAK,EAAC,CALY;AAMlBC,MAAAA,MAAM,EAAC,CANW;AAOlBC,MAAAA,IAAI,EAAC,CAPa;AAQlBC,MAAAA,MAAM,EAAC,MARW;AASlBC,MAAAA,SAAS,EAAE;AATO,KAAtB;AAWA,QAAI7C,UAAJ;;AACA,QAAGR,CAAC,CAACgC,MAAF,CAAS,YAAT,CAAH,EAA0B;AACtBxB,MAAAA,UAAU,GAACR,CAAC,CAACgC,MAAF,CAAS,YAAT,CAAX;AACAvB,MAAAA,UAAU,CAACoC,OAAX,GAAmB,MAAnB;AACAnC,MAAAA,WAAW,CAACmC,OAAZ,GAAoB,cAApB;AACH;;AACD,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,WAAW,EAAC,aAAvC;AAAqD,MAAA,GAAG,EAAES,GAAG,IAAE,KAAKjC,MAAL,GAAYiC,GAA3E;AAAgF,MAAA,QAAQ,MAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ,EAKI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,UAAnB;AAA8B,MAAA,WAAW,EAAC,gBAA1C;AAA2D,MAAA,GAAG,EAAEA,GAAG,IAAE,KAAKhC,IAAL,GAAUgC,GAA/E;AAAoF,MAAA,QAAQ,MAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALJ,CAFJ,EAaI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,OAAO,EAAE,KAAK/B,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoB,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,OAAO,EAAE,KAAKkB,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAApB,CAFJ,CAbJ,CADJ,EAmBQ;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAEvC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAnBR,EAyBI;AAAK,MAAA,KAAK,EAAEQ,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKF,UADL,2BAEI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,OAAO,EAAE,KAAKK,MAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAK8B,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFJ,CAFJ,CAzBJ,EAiCI;AAAK,MAAA,KAAK,EAAEhC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,WAAW,EAAC,oBAAvC;AAA6C,MAAA,GAAG,EAAE2C,GAAG,IAAE,KAAKlB,UAAL,GAAgBkB,GAAvE;AAA4E,MAAA,QAAQ,MAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAC0F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1F,EAEI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,UAAnB;AAA8B,MAAA,WAAW,EAAC,gBAA1C;AAA2D,MAAA,GAAG,EAAEA,GAAG,IAAE,KAAKjB,QAAL,GAAciB,GAAnF;AAAwF,MAAA,QAAQ,MAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EACsG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADtG,CAFJ,EAKI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,MAAnB;AAA0B,MAAA,WAAW,EAAC,oBAAtC;AAA4C,MAAA,GAAG,EAAEA,GAAG,IAAE,KAAKnB,SAAL,GAAemB,GAArE;AAA0E,MAAA,QAAQ,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAKwF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALxF,EAMI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,4BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,EAAE,EAAC,QAAjB;AAA0B,MAAA,KAAK,EAAE,KAAK/C,KAAL,CAAWK,KAA5C;AAAmD,MAAA,QAAQ,EAAE,KAAK2C,YAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADJ,EAEI;AAAQ,MAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDAFJ,EAGI;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,EAII;AAAQ,MAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJJ,EAKI;AAAQ,MAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCALJ,EAMI;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EANJ,CADJ,CANJ,EAgBI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,MAAnB;AAA0B,MAAA,WAAW,EAAC,oBAAtC;AAA4C,MAAA,GAAG,EAAED,GAAG,IAAE,KAAKf,YAAL,GAAkBe,GAAxE;AAA6E,MAAA,QAAQ,MAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,EAgB2F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhB3F,CAFJ,EAoBI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,OAAO,EAAE,KAAKpB,WAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,OAAO,EAAE,KAAKQ,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFJ,CApBJ,CAjCJ,CADJ;AA8DH;;AAjMyB;;AAoM9B,eAAepC,KAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {NavLink, Route, HashRouter} from 'react-dom';\r\nimport {Form, Button, ButtonToolbar} from \"react-bootstrap\";\r\nimport $ from 'jquery';\r\nimport {} from 'jquery.cookie';\r\nimport axios from 'axios';\r\nimport Sign from './sign';\r\n\r\naxios.defaults.withCredentials = true;\r\nconst headers = {withCredentials: true};\r\n\r\nclass Login extends Component {\r\n    state={\r\n        login_nick: \"\",\r\n        loginStyle: \"inline-block\",\r\n        logoutStyle: \"none\",\r\n        registerStyle: \"none\",\r\n        value: \"\"\r\n    }\r\n    logout=()=>{\r\n        axios.post('http://localhost:9090/member/logout', {headers})\r\n        .then((returnData)=>{\r\n            if(returnData.data.message){\r\n                $.removeCookie(\"login_nick\");\r\n                $.removeCookie(\"login_id\");\r\n                this.setState({\r\n                    loginStyle: \"inline-block\",\r\n                    logoutStyle: \"none\"\r\n                });\r\n            }\r\n            this.emailE.value=\"\";\r\n            this.pwdE.value=\"\";\r\n        });\r\n    }\r\n    login=()=>{\r\n        const send_param={\r\n            headers,\r\n            email: this.emailE.value,\r\n            pwd: this.pwdE.value\r\n        }\r\n        axios.post('http://localhost:9090/member/login', send_param)\r\n        .then((returnData)=>{\r\n            console.log(returnData.data);\r\n            if(returnData.data.result.nickname){\r\n                const nickname = returnData.data.result.nickname;\r\n                alert(nickname + \"님, 환영합니다!\");\r\n                $.cookie(\"login_nick\", returnData.data.result.nickname);\r\n                $.cookie(\"login_id\", returnData.data.result.id);\r\n                this.setState({\r\n                    login_nick: returnData.data.result.nickname,\r\n                    loginStyle: \"none\",\r\n                    logoutStyle: \"inline-block\"\r\n                });\r\n            }else{\r\n                alert(\"로그인 실패\");\r\n            }\r\n            \r\n        });\r\n    }\r\n    user_insert=()=>{\r\n        const send_param = {\r\n            nickname: this.new_nickE.value,\r\n            email: this.new_emailE.value,\r\n            pwd: this.new_pwdE.value,\r\n            company: this.new_companyE.value\r\n        }\r\n        $.post('http://localhost:9090/member/insert', send_param)\r\n        .then((returnData)=>{\r\n            var nickname = returnData.member.nickname;\r\n            if(returnData.member){\r\n                alert(nickname +\"님, 가입 성공\");\r\n                this.setState({\r\n                    loginStyle: \"inline-block\",\r\n                    registerStyle: \"none\",\r\n                });\r\n            }else{\r\n                alert(\"insert member denied\");\r\n            }\r\n        });\r\n        \r\n\r\n    }\r\n    register=()=>{\r\n        this.setState({\r\n            loginStyle: \"none\",\r\n            logoutStyle: \"none\",\r\n            registerStyle: \"inline-block\",\r\n        });\r\n        this.new_emailE.value=\"\";\r\n        this.new_nickE.value=\"\";\r\n        this.new_companyE.value=\"\";\r\n        this.new_pwdE.value=\"\";\r\n    }\r\n    loginHome=()=>{\r\n        this.setState({\r\n            loginStyle: \"inline-block\",\r\n            registerStyle: \"none\",\r\n        });\r\n    }\r\n    userInfo=()=>{\r\n        alert($.cookie(\"login_nick\"));\r\n    }\r\n    render(){\r\n        const loginStyle = {\r\n            display: this.state.loginStyle,\r\n            width: \"30%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        const logoutStyle = {\r\n            display: this.state.logoutStyle,\r\n            width: \"30%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        const registerStyle = {\r\n            display: this.state.registerStyle,\r\n            width: \"30%\",\r\n            position:\"fixed\",\r\n            top:100,\r\n            right:0,\r\n            bottom:0,\r\n            left:0,\r\n            margin:\"auto\",\r\n            textAlign: \"center\"\r\n        }\r\n        let login_nick;\r\n        if($.cookie(\"login_nick\")){\r\n            login_nick=$.cookie(\"login_nick\");\r\n            loginStyle.display=\"none\";\r\n            logoutStyle.display=\"inline-block\";\r\n        }\r\n        return(\r\n            <div>\r\n                <HashRouter>\r\n                {/* <div style={loginStyle}> */}\r\n                    <div>\r\n                        <h2>로그인</h2>\r\n                        <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" ref={ref=>this.emailE=ref} required/>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Control type=\"password\" placeholder=\"Enter Password\" ref={ref=>this.pwdE=ref} required/>\r\n                        </Form.Group>\r\n                    </div>\r\n\r\n                    \r\n                    <div className='header'>\r\n                        <Button variant=\"primary\" type=\"submit\" onClick={this.login}>로그인</Button> \r\n                        <NavLink to='/sign'><Button variant=\"success\" type=\"submit\" onClick={this.register}>회원가입</Button></NavLink>\r\n                    </div>\r\n                </HashRouter>\r\n                    <div className='body'>\r\n                        <Route path='/sign' component={Sign}/>\r\n                    </div>\r\n                    \r\n                {/* </div> */}\r\n\r\n                <div style={logoutStyle}>\r\n                    {login_nick} 님, 접속\r\n                    <ButtonToolbar>\r\n                        <Button variant=\"warning\" type=\"submit\" onClick={this.logout}>로그아웃</Button>\r\n                        <Button onClick={this.userInfo}>회원정보</Button>\r\n                    </ButtonToolbar>\r\n                </div>\r\n\r\n                <div style={registerStyle}>\r\n                    <h2>회원가입</h2>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Control type=\"email\" placeholder=\"이메일\" ref={ref=>this.new_emailE=ref} required/><br />\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Control type=\"password\" placeholder=\"Enter Password\" ref={ref=>this.new_pwdE=ref} required/><br />\r\n                        </Form.Group>\r\n                        <Form.Control type=\"text\" placeholder=\"닉네임\" ref={ref=>this.new_nickE=ref} required/><br />\r\n                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                            <Form.Control as=\"select\" value={this.state.value} onChange={this.handleChange}>\r\n                                <option>회사의 산업분야</option>\r\n                                <option value=\"agriculture\">농업, 임업 및 어업</option>\r\n                                <option value=\"mining\">광업</option>\r\n                                <option value=\"manufacturing\">제조업</option>\r\n                                <option value=\"electronic\">전기 공급업</option>\r\n                                <option value=\"water\">수도, 하수 및 폐기물 처리</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Control type=\"text\" placeholder=\"회사명\" ref={ref=>this.new_companyE=ref} required/><br />\r\n                    </Form.Group>\r\n                    <ButtonToolbar>\r\n                        <Button variant=\"primary\" type=\"submit\" onClick={this.user_insert}>제출</Button>\r\n                        <Button variant=\"warning\" type=\"submit\" onClick={this.loginHome}>돌아가기</Button>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}